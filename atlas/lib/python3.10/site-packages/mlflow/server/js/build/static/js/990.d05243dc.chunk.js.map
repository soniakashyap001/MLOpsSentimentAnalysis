{"version":3,"file":"static/js/990.d05243dc.chunk.js","mappings":"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","sources":["common/components/PageContainer.tsx","common/components/RequestStateWrapper.tsx","common/components/Spinner.tsx","common/components/error-boundaries/SectionErrorBoundary.tsx","common/utils/ErrorUtils.tsx","../node_modules/react-error-boundary/dist/react-error-boundary.esm.js","common/utils/withErrorBoundary.tsx","common/utils/withRouterNext.tsx","experiment-tracking/components/CompareRunBox.tsx","experiment-tracking/components/CompareRunContour.tsx","experiment-tracking/components/CompareRunPlotContainer.tsx","experiment-tracking/components/CompareRunScatter.tsx","experiment-tracking/components/CompareRunUtil.ts","experiment-tracking/components/LazyPlot.tsx","experiment-tracking/components/ParallelCoordinatesPlotView.tsx","experiment-tracking/components/ParallelCoordinatesPlotControls.tsx","experiment-tracking/components/ParallelCoordinatesPlotPanel.tsx","shared/building_blocks/PageHeader.tsx","shared/building_blocks/PreviewBadge.tsx"],"sourcesContent":["/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport { PageWrapper, Spacer } from '@databricks/design-system';\n\ntype OwnProps = {\n  usesFullHeight?: boolean;\n  children?: React.ReactNode;\n};\n\n// @ts-expect-error TS(2565): Property 'defaultProps' is used before being assig... Remove this comment to see the full error message\ntype Props = OwnProps & typeof PageContainer.defaultProps;\n\nexport function PageContainer(props: Props) {\n  const { usesFullHeight, ...restProps } = props;\n  return (\n    // @ts-expect-error TS(2322): Type '{ height: string; display: string; flexDirec... Remove this comment to see the full error message\n    <PageWrapper css={usesFullHeight ? styles.useFullHeightLayout : styles.wrapper}>\n      {/* @ts-expect-error TS(2322): Type '{ css: { flexShrink: number; }; }' is not as... Remove this comment to see the full error message */}\n      <Spacer css={styles.fixedSpacer} />\n      {usesFullHeight ? props.children : <div {...restProps} css={styles.container} />}\n    </PageWrapper>\n  );\n}\n\nPageContainer.defaultProps = {\n  usesFullHeight: false,\n};\n\nconst styles = {\n  useFullHeightLayout: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    '&:last-child': {\n      flexGrow: 1,\n    },\n  },\n  wrapper: { flex: 1 },\n  fixedSpacer: {\n    // Ensure spacer's fixed height regardless of flex\n    flexShrink: 0,\n  },\n  container: {\n    width: '100%',\n    flexGrow: 1,\n    paddingBottom: 24,\n  },\n};\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React, { Component } from 'react';\nimport './RequestStateWrapper.css';\nimport { connect } from 'react-redux';\nimport { getApis } from '../../experiment-tracking/reducers/Reducers';\nimport { Spinner } from './Spinner';\nimport { ErrorCodes } from '../constants';\n\nexport const DEFAULT_ERROR_MESSAGE = 'A request error occurred.';\n\ntype OwnRequestStateWrapperProps = {\n  customSpinner?: React.ReactNode;\n  shouldOptimisticallyRender?: boolean;\n  requests: any[];\n  requestIdsWith404sToIgnore?: string[];\n  description?: any; // TODO: PropTypes.oneOf(Object.values(LoadingDescription))\n  permissionDeniedView?: React.ReactNode;\n};\n\ntype RequestStateWrapperState = any;\n\ntype RequestStateWrapperProps = OwnRequestStateWrapperProps & typeof RequestStateWrapper.defaultProps;\n\nexport class RequestStateWrapper extends Component<RequestStateWrapperProps, RequestStateWrapperState> {\n  static defaultProps = {\n    requests: [],\n    requestIdsWith404sToIgnore: [],\n    shouldOptimisticallyRender: false,\n  };\n\n  state = {\n    shouldRender: false,\n    shouldRenderError: false,\n  };\n\n  static getErrorRequests(requests: any, requestIdsWith404sToIgnore: any) {\n    return requests.filter((r: any) => {\n      if (r.error !== undefined) {\n        return !(\n          requestIdsWith404sToIgnore &&\n          requestIdsWith404sToIgnore.includes(r.id) &&\n          r.error.getErrorCode() === ErrorCodes.RESOURCE_DOES_NOT_EXIST\n        );\n      }\n      return false;\n    });\n  }\n\n  static getDerivedStateFromProps(nextProps: any) {\n    const shouldRender = nextProps.requests.length\n      ? nextProps.requests.every((r: any) => r && r.active === false)\n      : false;\n\n    const requestErrors = RequestStateWrapper.getErrorRequests(\n      nextProps.requests,\n      nextProps.requestIdsWith404sToIgnore,\n    );\n\n    return {\n      shouldRender,\n      shouldRenderError: requestErrors.length > 0,\n      requestErrors,\n    };\n  }\n\n  getRenderedContent() {\n    const { children, requests, customSpinner, permissionDeniedView } = this.props;\n    // @ts-expect-error TS(2339): Property 'requestErrors' does not exist on type '{... Remove this comment to see the full error message\n    const { shouldRender, shouldRenderError, requestErrors } = this.state;\n    const permissionDeniedErrors = requestErrors.filter((failedRequest: any) => {\n      return failedRequest.error.getErrorCode() === ErrorCodes.PERMISSION_DENIED;\n    });\n\n    if (typeof children === 'function') {\n      return children(!shouldRender, shouldRenderError, requests, requestErrors);\n    } else if (shouldRender || shouldRenderError || this.props.shouldOptimisticallyRender) {\n      if (permissionDeniedErrors.length > 0 && permissionDeniedView) {\n        return permissionDeniedView;\n      }\n      if (shouldRenderError) {\n        triggerError(requestErrors);\n      }\n\n      return children;\n    }\n\n    return customSpinner || <Spinner />;\n  }\n\n  render() {\n    return this.getRenderedContent();\n  }\n}\n\nexport const triggerError = (requests: any) => {\n  // This triggers the OOPS error boundary.\n  console.error('ERROR', requests);\n  throw Error(`${DEFAULT_ERROR_MESSAGE}: ${requests.error}`);\n};\n\n// @ts-expect-error TS(7006): Parameter 'state' implicitly has an 'any' type.\nconst mapStateToProps = (state, ownProps) => ({\n  requests: getApis(ownProps.requestIds, state),\n});\n\nexport default connect(mapStateToProps)(RequestStateWrapper);\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React, { Component } from 'react';\nimport spinner from '../static/mlflow-spinner.png';\nimport { keyframes } from '@emotion/react';\n\ntype Props = {\n  showImmediately?: boolean;\n};\n\nexport class Spinner extends Component<Props> {\n  render() {\n    return (\n      // @ts-expect-error TS(2322): Type '(theme: Theme) => { width: number; marginTop... Remove this comment to see the full error message\n      <div css={(theme) => styles.spinner(theme, this.props.showImmediately)}>\n        <img alt=\"Page loading...\" src={spinner} />\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  // @ts-expect-error TS(7006): Parameter 'theme' implicitly has an 'any' type.\n  spinner: (theme, immediate) => ({\n    width: 100,\n    marginTop: 100,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n\n    img: {\n      position: 'absolute',\n      opacity: 0,\n      top: '50%',\n      left: '50%',\n      width: theme.general.heightBase * 2,\n      height: theme.general.heightBase * 2,\n      marginTop: -theme.general.heightBase,\n      marginLeft: -theme.general.heightBase,\n      animation: `${keyframes`\n          0% {\n            opacity: 1;\n          }\n          100% {\n            opacity: 1;\n            -webkit-transform: rotate(360deg);\n                transform: rotate(360deg);\n            }\n          `} 3s linear infinite`,\n      animationDelay: immediate ? 0 : '0.5s',\n    },\n  }),\n};\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport Utils from '../../utils/Utils';\n\ntype Props = {\n  showServerError?: boolean;\n};\n\ntype State = any;\n\nexport class SectionErrorBoundary extends React.Component<Props, State> {\n  state = { error: null };\n\n  componentDidCatch(error: any, errorInfo: any) {\n    this.setState({ error });\n    console.error(error, errorInfo);\n  }\n\n  renderErrorMessage(error: any) {\n    return this.props.showServerError ? <div>Error message: {error.message}</div> : '';\n  }\n\n  render() {\n    const { children } = this.props;\n    const { error } = this.state;\n    if (error) {\n      return (\n        <div>\n          <p>\n            <i className=\"fa fa-exclamation-triangle icon-fail\" css={classNames.wrapper} />\n            <span> Something went wrong with this section. </span>\n            <span>If this error persists, please report an issue </span>\n            {/* Reported during ESLint upgrade */}\n            {/* eslint-disable-next-line react/jsx-no-target-blank */}\n            <a href={Utils.getSupportPageUrl()} target=\"_blank\">\n              here\n            </a>\n            .{this.renderErrorMessage(error)}\n          </p>\n        </div>\n      );\n    }\n\n    return children;\n  }\n}\n\nconst classNames = {\n  wrapper: {\n    marginLeft: -2, // to align the failure icon with the collapsable section caret toggle\n  },\n};\n","import React from 'react';\n\nclass ErrorUtils {\n  static mlflowServices = {\n    MODEL_REGISTRY: 'Model Registry',\n    EXPERIMENTS: 'Experiments',\n    MODEL_SERVING: 'Model Serving',\n    RUN_TRACKING: 'Run Tracking',\n  };\n}\n\nexport default ErrorUtils;\n","'use client';\nimport { createContext, Component, createElement, isValidElement, useContext, useState, useMemo, forwardRef } from 'react';\n\nconst ErrorBoundaryContext = createContext(null);\n\nconst initialState = {\n  didCatch: false,\n  error: null\n};\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.resetErrorBoundary = this.resetErrorBoundary.bind(this);\n    this.state = initialState;\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      didCatch: true,\n      error\n    };\n  }\n  resetErrorBoundary() {\n    const {\n      error\n    } = this.state;\n    if (error !== null) {\n      var _this$props$onReset, _this$props;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_this$props$onReset = (_this$props = this.props).onReset) === null || _this$props$onReset === void 0 ? void 0 : _this$props$onReset.call(_this$props, {\n        args,\n        reason: \"imperative-api\"\n      });\n      this.setState(initialState);\n    }\n  }\n  componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n    (_this$props$onError = (_this$props2 = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      didCatch\n    } = this.state;\n    const {\n      resetKeys\n    } = this.props;\n\n    // There's an edge case where if the thing that triggered the error happens to *also* be in the resetKeys array,\n    // we'd end up resetting the error boundary immediately.\n    // This would likely trigger a second error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call of cDU after the error is set.\n\n    if (didCatch && prevState.error !== null && hasArrayChanged(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onReset2, _this$props3;\n      (_this$props$onReset2 = (_this$props3 = this.props).onReset) === null || _this$props$onReset2 === void 0 ? void 0 : _this$props$onReset2.call(_this$props3, {\n        next: resetKeys,\n        prev: prevProps.resetKeys,\n        reason: \"keys\"\n      });\n      this.setState(initialState);\n    }\n  }\n  render() {\n    const {\n      children,\n      fallbackRender,\n      FallbackComponent,\n      fallback\n    } = this.props;\n    const {\n      didCatch,\n      error\n    } = this.state;\n    let childToRender = children;\n    if (didCatch) {\n      const props = {\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n      if (typeof fallbackRender === \"function\") {\n        childToRender = fallbackRender(props);\n      } else if (FallbackComponent) {\n        childToRender = createElement(FallbackComponent, props);\n      } else if (fallback === null || isValidElement(fallback)) {\n        childToRender = fallback;\n      } else {\n        throw error;\n      }\n    }\n    return createElement(ErrorBoundaryContext.Provider, {\n      value: {\n        didCatch,\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      }\n    }, childToRender);\n  }\n}\nfunction hasArrayChanged() {\n  let a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]));\n}\n\nfunction assertErrorBoundaryContext(value) {\n  if (value == null || typeof value.didCatch !== \"boolean\" || typeof value.resetErrorBoundary !== \"function\") {\n    throw new Error(\"ErrorBoundaryContext not found\");\n  }\n}\n\nfunction useErrorBoundary() {\n  const context = useContext(ErrorBoundaryContext);\n  assertErrorBoundaryContext(context);\n  const [state, setState] = useState({\n    error: null,\n    hasError: false\n  });\n  const memoized = useMemo(() => ({\n    resetBoundary: () => {\n      context.resetErrorBoundary();\n      setState({\n        error: null,\n        hasError: false\n      });\n    },\n    showBoundary: error => setState({\n      error,\n      hasError: true\n    })\n  }), [context.resetErrorBoundary]);\n  if (state.hasError) {\n    throw state.error;\n  }\n  return memoized;\n}\n\nfunction withErrorBoundary(component, errorBoundaryProps) {\n  const Wrapped = forwardRef((props, ref) => createElement(ErrorBoundary, errorBoundaryProps, createElement(component, {\n    ...props,\n    ref\n  })));\n\n  // Format for display in DevTools\n  const name = component.displayName || component.name || \"Unknown\";\n  Wrapped.displayName = \"withErrorBoundary(\".concat(name, \")\");\n  return Wrapped;\n}\n\nexport { ErrorBoundary, ErrorBoundaryContext, useErrorBoundary, withErrorBoundary };\n","import React from 'react';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport ErrorUtils from './ErrorUtils';\nimport { DangerIcon, Empty } from '@databricks/design-system';\nimport { FormattedMessage } from 'react-intl';\n\nexport type ErrorBoundaryProps = {\n  children: React.Component;\n};\n\nfunction ErrorFallback() {\n  return (\n    <Empty\n      data-testid=\"fallback\"\n      title={<FormattedMessage defaultMessage=\"Error\" description=\"Title of editor error fallback component\" />}\n      description={\n        <FormattedMessage\n          defaultMessage=\"An error occurred while rendering this component.\"\n          description=\"Description of error fallback component\"\n        />\n      }\n      image={<DangerIcon />}\n    />\n  );\n}\n\nexport function CustomErrorBoundary({ children }: React.PropsWithChildren<ErrorBoundaryProps>) {\n  function logErrorToConsole(error: Error, info: { componentStack: string }) {\n    console.error('Caught Unexpected Error: ', error, info.componentStack);\n  }\n\n  return (\n    <ErrorBoundary onError={logErrorToConsole} fallback={<ErrorFallback />}>\n      {children}\n    </ErrorBoundary>\n  );\n}\n\nexport function withErrorBoundary<P>(\n  service: string,\n  Component: React.ComponentType<P>,\n  errorMessage?: React.ReactNode,\n): React.ComponentType<P> {\n  return function CustomErrorBoundaryWrapper(props: P) {\n    return (\n      <CustomErrorBoundary>\n        {/* @ts-expect-error Generics don't play well with WithConditionalCSSProp type coming @emotion/react jsx typing to validate css= prop values typing. More details here: emotion-js/emotion#2169 */}\n        <Component {...props} />\n      </CustomErrorBoundary>\n    );\n  };\n}\n","import React from 'react';\n\nimport {\n  type Location,\n  type Params as RouterDOMParams,\n  type NavigateOptions,\n  type To,\n  useLocation,\n  useNavigate,\n  useParams,\n} from '../../common/utils/RoutingUtils';\n\nexport interface WithRouterNextProps<Params extends RouterDOMParams = RouterDOMParams> {\n  navigate: ReturnType<typeof useNavigate>;\n  location: Location;\n  params: Params;\n}\n\n/**\n * This HoC serves as a retrofit for class components enabling them to use\n * react-router v6's location, navigate and params being injected via props.\n */\nexport const withRouterNext =\n  <Props, Params extends RouterDOMParams>(Component: React.ComponentType<Props & WithRouterNextProps<Params>>) =>\n  (\n    props: Omit<\n      Props,\n      | 'location'\n      | 'navigate'\n      | 'params'\n      | 'navigationType'\n      /* prettier-ignore*/\n    >,\n  ) => {\n    const location = useLocation();\n    const navigate = useNavigate();\n    const params = useParams<Params>();\n\n    return (\n      <Component\n        /* prettier-ignore */\n        params={params as Params}\n        location={location}\n        navigate={navigate}\n        {...(props as Props)}\n      />\n    );\n  };\n","import React, { useState } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\n\nimport {\n  Typography,\n  Row,\n  Col,\n  SimpleSelect,\n  SimpleSelectOptionGroup,\n  SimpleSelectOption,\n  FormUI,\n} from '@databricks/design-system';\nimport { LazyPlot } from './LazyPlot';\nimport { RunInfoEntity } from '../types';\n\ntype Props = {\n  runUuids: string[];\n  runInfos: RunInfoEntity[];\n  metricLists: any[][];\n  paramLists: any[][];\n};\n\ntype Axis = {\n  key?: string;\n  isParam?: boolean;\n};\n\nconst paramOptionPrefix = 'param-';\nconst metricOptionPrefix = 'metric-';\n\n// Note: This component does not pass the value of the parent component to the child component.\n// Doing so will cause weird rendering issues with the label and updating of the value.\nconst Selector = ({\n  id,\n  onChange,\n  paramKeys,\n  metricKeys,\n}: {\n  id: string;\n  onChange: (axis: Axis) => void;\n  paramKeys: string[];\n  metricKeys: string[];\n}) => {\n  const intl = useIntl();\n  return (\n    <SimpleSelect\n      id={id}\n      css={{ width: '100%', marginBottom: '16px' }}\n      placeholder={intl.formatMessage({\n        defaultMessage: 'Select parameter or metric',\n        description: 'Placeholder text for parameter/metric selector in box plot comparison in MLflow',\n      })}\n      onChange={({ target }) => {\n        const { value } = target;\n        const [_prefix, key] = value.split('-');\n        const isParam = value.startsWith(paramOptionPrefix);\n        onChange({ key, isParam });\n      }}\n    >\n      <SimpleSelectOptionGroup label=\"Parameters\">\n        {paramKeys.map((key) => (\n          <SimpleSelectOption key={key} value={paramOptionPrefix + key}>\n            {key}\n          </SimpleSelectOption>\n        ))}\n      </SimpleSelectOptionGroup>\n      <SimpleSelectOptionGroup label=\"Metrics\">\n        {metricKeys.map((key) => (\n          <SimpleSelectOption key={key} value={metricOptionPrefix + key}>\n            {key}\n          </SimpleSelectOption>\n        ))}\n      </SimpleSelectOptionGroup>\n    </SimpleSelect>\n  );\n};\n\nexport const CompareRunBox = ({ runInfos, metricLists, paramLists }: Props) => {\n  const [xAxis, setXAxis] = useState<Axis>({ key: undefined, isParam: undefined });\n  const [yAxis, setYAxis] = useState<Axis>({ key: undefined, isParam: undefined });\n\n  const paramKeys = Array.from(new Set(paramLists.flat().map(({ key }) => key))).sort();\n  const metricKeys = Array.from(new Set(metricLists.flat().map(({ key }) => key))).sort();\n\n  const getBoxPlotData = () => {\n    const data = {};\n    runInfos.forEach((_, index) => {\n      const params = paramLists[index];\n      const metrics = metricLists[index];\n      const x = (xAxis.isParam ? params : metrics).find(({ key }) => key === xAxis.key);\n      const y = (yAxis.isParam ? params : metrics).find(({ key }) => key === yAxis.key);\n      if (x === undefined || y === undefined) {\n        return;\n      }\n\n      if (x.value in data) {\n        // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n        data[x.value].push(y.value);\n      } else {\n        // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n        data[x.value] = [y.value];\n      }\n    });\n\n    return Object.entries(data).map(([key, values]) => ({\n      y: values,\n      type: 'box',\n      name: key,\n      jitter: 0.3,\n      pointpos: -1.5,\n      boxpoints: 'all',\n    }));\n  };\n\n  const renderPlot = () => {\n    if (!(xAxis.key && yAxis.key)) {\n      return (\n        <div\n          css={{\n            display: 'flex',\n            width: '100%',\n            height: '100%',\n            justifyContent: 'center',\n            alignItems: 'center',\n          }}\n        >\n          <Typography.Text size=\"xl\">\n            <FormattedMessage\n              defaultMessage=\"Select parameters/metrics to plot.\"\n              description=\"Text to show when x or y axis is not selected on box plot\"\n            />\n          </Typography.Text>\n        </div>\n      );\n    }\n\n    return (\n      <LazyPlot\n        css={{\n          width: '100%',\n          height: '100%',\n          minHeight: '35vw',\n        }}\n        data={getBoxPlotData()}\n        layout={{\n          margin: {\n            t: 30,\n          },\n          hovermode: 'closest',\n          xaxis: {\n            title: xAxis.key,\n          },\n          yaxis: {\n            title: yAxis.key,\n          },\n        }}\n        config={{\n          responsive: true,\n          displaylogo: false,\n          scrollZoom: true,\n          modeBarButtonsToRemove: [\n            'sendDataToCloud',\n            'select2d',\n            'lasso2d',\n            'resetScale2d',\n            'hoverClosestCartesian',\n            'hoverCompareCartesian',\n          ],\n        }}\n        useResizeHandler\n      />\n    );\n  };\n\n  return (\n    <Row>\n      <Col span={6}>\n        <div css={styles.borderSpacer}>\n          <div>\n            <FormUI.Label htmlFor=\"x-axis-selector\">\n              <FormattedMessage\n                defaultMessage=\"X-axis:\"\n                description=\"Label text for X-axis in box plot comparison in MLflow\"\n              />\n            </FormUI.Label>\n          </div>\n          <Selector id=\"x-axis-selector\" onChange={setXAxis} paramKeys={paramKeys} metricKeys={metricKeys} />\n\n          <div>\n            <FormUI.Label htmlFor=\"y-axis-selector\">\n              <FormattedMessage\n                defaultMessage=\"Y-axis:\"\n                description=\"Label text for Y-axis in box plot comparison in MLflow\"\n              />\n            </FormUI.Label>\n          </div>\n          <Selector id=\"y-axis-selector\" onChange={setYAxis} paramKeys={paramKeys} metricKeys={metricKeys} />\n        </div>\n      </Col>\n      <Col span={18}>{renderPlot()}</Col>\n    </Row>\n  );\n};\n\nconst styles = {\n  borderSpacer: (theme: any) => ({\n    paddingLeft: theme.spacing.xs,\n  }),\n};\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport { escape } from 'lodash';\nimport React, { Component } from 'react';\nimport {\n  Switch,\n  Spacer,\n  SimpleSelect,\n  SimpleSelectOptionGroup,\n  SimpleSelectOption,\n  FormUI,\n} from '@databricks/design-system';\nimport { getParams, getRunInfo } from '../reducers/Reducers';\nimport { connect } from 'react-redux';\nimport './CompareRunView.css';\nimport Utils from '../../common/utils/Utils';\nimport { getLatestMetrics } from '../reducers/MetricReducer';\nimport CompareRunUtil from './CompareRunUtil';\nimport { FormattedMessage } from 'react-intl';\nimport { LazyPlot } from './LazyPlot';\nimport { CompareRunPlotContainer } from './CompareRunPlotContainer';\n\ntype CompareRunContourProps = {\n  runInfos: any[]; // TODO: PropTypes.instanceOf(RunInfo)\n  metricLists: any[][];\n  paramLists: any[][];\n  runDisplayNames: string[];\n};\n\ntype CompareRunContourState = any;\n\nexport class CompareRunContour extends Component<CompareRunContourProps, CompareRunContourState> {\n  // Size limits for displaying keys and values in our plot axes and tooltips\n  static MAX_PLOT_KEY_LENGTH = 40;\n  static MAX_PLOT_VALUE_LENGTH = 60;\n\n  metricKeys: any;\n  paramKeys: any;\n\n  constructor(props: CompareRunContourProps) {\n    super(props);\n\n    this.metricKeys = CompareRunUtil.getKeys(this.props.metricLists, true);\n    this.paramKeys = CompareRunUtil.getKeys(this.props.paramLists, true);\n\n    if (this.paramKeys.length + this.metricKeys.length < 3) {\n      this.state = { disabled: true };\n    } else {\n      const common = { disabled: false, reverseColor: false };\n      if (this.metricKeys.length === 0) {\n        this.state = {\n          ...common,\n          xaxis: { key: this.paramKeys[0], isMetric: false },\n          yaxis: { key: this.paramKeys[1], isMetric: false },\n          zaxis: { key: this.paramKeys[2], isMetric: false },\n        };\n      } else if (this.paramKeys.length === 0) {\n        this.state = {\n          ...common,\n          xaxis: { key: this.metricKeys[0], isMetric: true },\n          yaxis: { key: this.metricKeys[1], isMetric: true },\n          zaxis: { key: this.metricKeys[2], isMetric: true },\n        };\n      } else if (this.paramKeys.length === 1) {\n        this.state = {\n          ...common,\n          xaxis: { key: this.paramKeys[0], isMetric: false },\n          yaxis: { key: this.metricKeys[0], isMetric: true },\n          zaxis: { key: this.metricKeys[1], isMetric: true },\n        };\n      } else {\n        this.state = {\n          ...common,\n          xaxis: { key: this.paramKeys[0], isMetric: false },\n          yaxis: { key: this.paramKeys[1], isMetric: false },\n          zaxis: { key: this.metricKeys[0], isMetric: true },\n        };\n      }\n    }\n  }\n\n  /**\n   * Get the value of the metric/param described by {key, isMetric}, in run i\n   */\n  getValue(i: any, { key, isMetric }: any) {\n    const value = CompareRunUtil.findInList((isMetric ? this.props.metricLists : this.props.paramLists)[i], key);\n    return value === undefined ? value : (value as any).value;\n  }\n\n  getColorscale() {\n    /*\n     * contour plot has an option named \"reversescale\" which\n     * reverses the color mapping if True, but it doesn't work properly now.\n     *\n     * https://github.com/plotly/plotly.js/issues/4430\n     *\n     * This function is a temporary workaround for the issue.\n     */\n    const colorscale = [\n      [0, 'rgb(5,10,172)'],\n      [0.35, 'rgb(40,60,190)'],\n      [0.5, 'rgb(70,100,245)'],\n      [0.6, 'rgb(90,120,245)'],\n      [0.7, 'rgb(106,137,247)'],\n      [1, 'rgb(220,220,220)'],\n    ];\n\n    // @ts-expect-error TS(4111): Property 'reverseColor' comes from an index signat... Remove this comment to see the full error message\n    if (this.state.reverseColor) {\n      return colorscale;\n    } else {\n      // reverse only RGB values\n      return colorscale.map(([val], index) => [val, colorscale[colorscale.length - 1 - index][1]]);\n    }\n  }\n\n  render() {\n    // @ts-expect-error TS(4111): Property 'disabled' comes from an index signature,... Remove this comment to see the full error message\n    if (this.state.disabled) {\n      return (\n        <div>\n          <FormattedMessage\n            defaultMessage=\"Contour plots can only be rendered when comparing a group of runs\n              with three or more unique metrics or params. Log more metrics or params to your\n              runs to visualize them using the contour plot.\"\n            description=\"Text explanation when contour plot is disabled in comparison pages\n              in MLflow\"\n          />\n        </div>\n      );\n    }\n\n    const keyLength = CompareRunContour.MAX_PLOT_KEY_LENGTH;\n\n    const xs: any = [];\n    const ys: any = [];\n    const zs: any = [];\n    const tooltips: any = [];\n\n    this.props.runInfos.forEach((_, index) => {\n      // @ts-expect-error TS(4111): Property 'xaxis' comes from an index signature, so... Remove this comment to see the full error message\n      const x = this.getValue(index, this.state.xaxis);\n      // @ts-expect-error TS(4111): Property 'yaxis' comes from an index signature, so... Remove this comment to see the full error message\n      const y = this.getValue(index, this.state.yaxis);\n      // @ts-expect-error TS(4111): Property 'zaxis' comes from an index signature, so... Remove this comment to see the full error message\n      const z = this.getValue(index, this.state.zaxis);\n      if (x === undefined || y === undefined || z === undefined) {\n        return;\n      }\n      xs.push(parseFloat(x));\n      ys.push(parseFloat(y));\n      zs.push(parseFloat(z));\n      tooltips.push(this.getPlotlyTooltip(index));\n    });\n\n    const maybeRenderPlot = () => {\n      const invalidAxes = [];\n      if (new Set(xs).size < 2) {\n        invalidAxes.push('X');\n      }\n      if (new Set(ys).size < 2) {\n        invalidAxes.push('Y');\n      }\n      if (invalidAxes.length > 0) {\n        const messageHead =\n          invalidAxes.length > 1 ? `The ${invalidAxes.join(' and ')} axes don't` : `The ${invalidAxes[0]} axis doesn't`;\n        return (\n          <div\n            css={styles.noDataMessage}\n          >{`${messageHead} have enough unique data points to render the contour plot.`}</div>\n        );\n      }\n\n      return (\n        <LazyPlot\n          css={styles.plot}\n          data={[\n            // contour plot\n            {\n              z: zs,\n              x: xs,\n              y: ys,\n              type: 'contour',\n              hoverinfo: 'none',\n              colorscale: this.getColorscale(),\n              connectgaps: true,\n              contours: {\n                coloring: 'heatmap',\n              },\n            },\n            // scatter plot\n            {\n              x: xs,\n              y: ys,\n              text: tooltips,\n              hoverinfo: 'text',\n              type: 'scattergl',\n              mode: 'markers',\n              marker: {\n                size: 10,\n                color: 'rgba(200, 50, 100, .75)',\n              },\n            },\n          ]}\n          layout={{\n            margin: {\n              t: 30,\n            },\n            hovermode: 'closest',\n            xaxis: {\n              title: escape(Utils.truncateString(this.state['xaxis'].key, keyLength)),\n              range: [Math.min(...xs), Math.max(...xs)],\n            },\n            yaxis: {\n              title: escape(Utils.truncateString(this.state['yaxis'].key, keyLength)),\n              range: [Math.min(...ys), Math.max(...ys)],\n            },\n          }}\n          config={{\n            responsive: true,\n            displaylogo: false,\n            scrollZoom: true,\n            modeBarButtonsToRemove: [\n              'sendDataToCloud',\n              'select2d',\n              'lasso2d',\n              'resetScale2d',\n              'hoverClosestCartesian',\n              'hoverCompareCartesian',\n            ],\n          }}\n          useResizeHandler\n        />\n      );\n    };\n\n    return (\n      <CompareRunPlotContainer\n        controls={\n          <>\n            <div>\n              <FormUI.Label htmlFor=\"xaxis-selector\">\n                <FormattedMessage\n                  defaultMessage=\"X-axis:\"\n                  description=\"Label text for x-axis in contour plot comparison in MLflow\"\n                />\n              </FormUI.Label>\n              {this.renderSelect('xaxis')}\n            </div>\n            <Spacer />\n            <div>\n              <FormUI.Label htmlFor=\"yaxis-selector\">\n                <FormattedMessage\n                  defaultMessage=\"Y-axis:\"\n                  description=\"Label text for y-axis in contour plot comparison in MLflow\"\n                />\n              </FormUI.Label>\n              {this.renderSelect('yaxis')}\n            </div>\n            <Spacer />\n            <div>\n              <FormUI.Label htmlFor=\"zaxis-selector\">\n                <FormattedMessage\n                  defaultMessage=\"Z-axis:\"\n                  description=\"Label text for z-axis in contour plot comparison in MLflow\"\n                />\n              </FormUI.Label>\n              {this.renderSelect('zaxis')}\n            </div>\n            <Spacer />\n            <div className=\"inline-control\">\n              <FormattedMessage\n                defaultMessage=\"Reverse color:\"\n                description=\"Label text for reverse color toggle in contour plot comparison\n                      in MLflow\"\n              />{' '}\n              <Switch\n                className=\"show-point-toggle\"\n                // @ts-expect-error TS(4111): Property 'reverseColor' comes from an index signat... Remove this comment to see the full error message\n                checked={this.state.reverseColor}\n                onChange={(checked) => this.setState({ reverseColor: checked })}\n              />\n            </div>\n          </>\n        }\n      >\n        {maybeRenderPlot()}\n      </CompareRunPlotContainer>\n    );\n  }\n\n  renderSelect(axis: string) {\n    return (\n      <SimpleSelect\n        css={{ width: '100%' }}\n        id={axis + '-selector'}\n        onChange={({ target }) => {\n          const { value } = target;\n          const [prefix, ...keyParts] = value.split('-');\n          const key = keyParts.join('-');\n          const isMetric = prefix === 'metric';\n          this.setState({ [axis]: { isMetric, key } });\n        }}\n        value={(this.state[axis].isMetric ? 'metric-' : 'param-') + this.state[axis].key}\n      >\n        <SimpleSelectOptionGroup label=\"Parameter\">\n          {this.paramKeys.map((p: any) => (\n            <SimpleSelectOption key={'param-' + p} value={'param-' + p}>\n              {p}\n            </SimpleSelectOption>\n          ))}\n        </SimpleSelectOptionGroup>\n        <SimpleSelectOptionGroup label=\"Metric\">\n          {this.metricKeys.map((m: any) => (\n            <SimpleSelectOption key={'metric-' + m} value={'metric-' + m}>\n              {m}\n            </SimpleSelectOption>\n          ))}\n        </SimpleSelectOptionGroup>\n      </SimpleSelect>\n    );\n  }\n\n  getPlotlyTooltip(index: any) {\n    const keyLength = CompareRunContour.MAX_PLOT_KEY_LENGTH;\n    const valueLength = CompareRunContour.MAX_PLOT_VALUE_LENGTH;\n    const runName = this.props.runDisplayNames[index];\n    let result = `<b>${escape(runName)}</b><br>`;\n    const paramList = this.props.paramLists[index];\n    paramList.forEach((p) => {\n      result +=\n        escape(Utils.truncateString(p.key, keyLength)) +\n        ': ' +\n        escape(Utils.truncateString(p.value, valueLength)) +\n        '<br>';\n    });\n    const metricList = this.props.metricLists[index];\n    if (metricList.length > 0) {\n      result += paramList.length > 0 ? '<br>' : '';\n      metricList.forEach((m) => {\n        result += escape(Utils.truncateString(m.key, keyLength)) + ': ' + Utils.formatMetric(m.value) + '<br>';\n      });\n    }\n    return result;\n  }\n}\n\nconst styles = {\n  plot: {\n    width: '100%',\n  },\n  noDataMessage: (theme: any) => ({\n    padding: theme.spacing.sm,\n    display: 'flex',\n    justifyContent: 'center',\n  }),\n};\n\nconst mapStateToProps = (state: any, ownProps: any) => {\n  const runInfos: any = [];\n  const metricLists: any = [];\n  const paramLists: any = [];\n  const { runUuids } = ownProps;\n  runUuids.forEach((runUuid: any) => {\n    runInfos.push(getRunInfo(runUuid, state));\n    metricLists.push(Object.values(getLatestMetrics(runUuid, state)));\n    paramLists.push(Object.values(getParams(runUuid, state)));\n  });\n  return { runInfos, metricLists, paramLists };\n};\n\nexport default connect(mapStateToProps)(CompareRunContour);\n","import { Theme } from '@emotion/react';\n\ninterface CompareRunPlotContainerProps {\n  controls: React.ReactNode;\n}\n\nexport const CompareRunPlotContainer = (props: React.PropsWithChildren<CompareRunPlotContainerProps>) => (\n  <div css={styles.wrapper}>\n    <div css={styles.controls}>{props.controls}</div>\n    <div css={styles.plotWrapper}>{props.children}</div>\n  </div>\n);\n\nconst styles = {\n  plotWrapper: {\n    overflow: 'hidden',\n    width: '100%',\n    height: '100%',\n    minHeight: 450,\n  },\n  wrapper: {\n    display: 'grid',\n    gridTemplateColumns: 'minmax(300px, 1fr) 3fr',\n  },\n  controls: (theme: Theme) => ({\n    padding: `0 ${theme.spacing.xs}px`,\n  }),\n};\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport { escape } from 'lodash';\nimport React, { Component } from 'react';\nimport { getParams, getRunInfo } from '../reducers/Reducers';\nimport { connect } from 'react-redux';\nimport { FormUI, SimpleSelect, SimpleSelectOption, SimpleSelectOptionGroup, Spacer } from '@databricks/design-system';\nimport './CompareRunView.css';\nimport Utils from '../../common/utils/Utils';\nimport { getLatestMetrics } from '../reducers/MetricReducer';\nimport CompareRunUtil from './CompareRunUtil';\nimport { FormattedMessage } from 'react-intl';\nimport { LazyPlot } from './LazyPlot';\nimport { CompareRunPlotContainer } from './CompareRunPlotContainer';\n\ntype CompareRunScatterImplProps = {\n  runUuids: string[];\n  runInfos: any[]; // TODO: PropTypes.instanceOf(RunInfo)\n  metricLists: any[][];\n  paramLists: any[][];\n  runDisplayNames: string[];\n};\n\ntype CompareRunScatterImplState = any;\n\nexport class CompareRunScatterImpl extends Component<CompareRunScatterImplProps, CompareRunScatterImplState> {\n  // Size limits for displaying keys and values in our plot axes and tooltips\n  static MAX_PLOT_KEY_LENGTH = 40;\n  static MAX_PLOT_VALUE_LENGTH = 60;\n\n  metricKeys: any;\n  paramKeys: any;\n\n  constructor(props: CompareRunScatterImplProps) {\n    super(props);\n\n    this.metricKeys = CompareRunUtil.getKeys(this.props.metricLists, false);\n    this.paramKeys = CompareRunUtil.getKeys(this.props.paramLists, false);\n\n    if (this.paramKeys.length + this.metricKeys.length < 2) {\n      this.state = { disabled: true };\n    } else {\n      this.state = {\n        disabled: false,\n        x:\n          this.paramKeys.length > 0\n            ? {\n                key: this.paramKeys[0],\n                isMetric: false,\n              }\n            : {\n                key: this.metricKeys[1],\n                isMetric: true,\n              },\n        y:\n          this.metricKeys.length > 0\n            ? {\n                key: this.metricKeys[0],\n                isMetric: true,\n              }\n            : {\n                key: this.paramKeys[1],\n                isMetric: false,\n              },\n      };\n    }\n  }\n\n  /**\n   * Get the value of the metric/param described by {key, isMetric}, in run i\n   */\n  getValue(i: any, { key, isMetric }: any) {\n    const value = CompareRunUtil.findInList((isMetric ? this.props.metricLists : this.props.paramLists)[i], key);\n    return value === undefined ? value : (value as any).value;\n  }\n\n  render() {\n    // @ts-expect-error TS(4111): Property 'disabled' comes from an index signature,... Remove this comment to see the full error message\n    if (this.state.disabled) {\n      return <div />;\n    }\n\n    const keyLength = CompareRunScatterImpl.MAX_PLOT_KEY_LENGTH;\n\n    const xs: any = [];\n    const ys: any = [];\n    const tooltips: any = [];\n\n    this.props.runInfos.forEach((_, index) => {\n      // @ts-expect-error TS(4111): Property 'x' comes from an index signature, so it ... Remove this comment to see the full error message\n      const x = this.getValue(index, this.state.x);\n      // @ts-expect-error TS(4111): Property 'y' comes from an index signature, so it ... Remove this comment to see the full error message\n      const y = this.getValue(index, this.state.y);\n      if (x === undefined || y === undefined) {\n        return;\n      }\n      xs.push(x);\n      ys.push(y);\n      tooltips.push(this.getPlotlyTooltip(index));\n    });\n\n    return (\n      <CompareRunPlotContainer\n        controls={\n          <>\n            <div>\n              <FormUI.Label htmlFor=\"x-axis-selector\">\n                <FormattedMessage\n                  defaultMessage=\"X-axis:\"\n                  description=\"Label text for x-axis in scatter plot comparison in MLflow\"\n                />\n              </FormUI.Label>\n              {this.renderSelect('x')}\n            </div>\n            <Spacer />\n            <div>\n              <FormUI.Label htmlFor=\"y-axis-selector\">\n                <FormattedMessage\n                  defaultMessage=\"Y-axis:\"\n                  description=\"Label text for y-axis in scatter plot comparison in MLflow\"\n                />\n              </FormUI.Label>\n              {this.renderSelect('y')}\n            </div>\n          </>\n        }\n      >\n        <LazyPlot\n          data={[\n            {\n              x: xs,\n              y: ys,\n              text: tooltips,\n              hoverinfo: 'text',\n              type: 'scattergl',\n              mode: 'markers',\n              marker: {\n                size: 10,\n                color: 'rgba(200, 50, 100, .75)',\n              },\n            },\n          ]}\n          layout={{\n            margin: {\n              t: 30,\n            },\n            hovermode: 'closest',\n            xaxis: {\n              title: escape(Utils.truncateString(this.state['x'].key, keyLength)),\n            },\n            yaxis: {\n              title: escape(Utils.truncateString(this.state['y'].key, keyLength)),\n            },\n          }}\n          css={styles.plot}\n          config={{\n            responsive: true,\n            displaylogo: false,\n            scrollZoom: true,\n            modeBarButtonsToRemove: [\n              'sendDataToCloud',\n              'select2d',\n              'lasso2d',\n              'resetScale2d',\n              'hoverClosestCartesian',\n              'hoverCompareCartesian',\n            ],\n          }}\n          useResizeHandler\n        />\n      </CompareRunPlotContainer>\n    );\n  }\n\n  renderSelect(axis: any) {\n    return (\n      <SimpleSelect\n        css={styles.select}\n        id={axis + '-axis-selector'}\n        onChange={({ target }) => {\n          const { value } = target;\n          const [prefix, ...keyParts] = value.split('-');\n          const key = keyParts.join('-');\n          const isMetric = prefix === 'metric';\n          this.setState({ [axis]: { isMetric, key } });\n        }}\n        value={(this.state[axis].isMetric ? 'metric-' : 'param-') + this.state[axis].key}\n      >\n        <SimpleSelectOptionGroup label=\"Parameter\">\n          {this.paramKeys.map((p: any) => (\n            <SimpleSelectOption key={'param-' + p} value={'param-' + p}>\n              {p}\n            </SimpleSelectOption>\n          ))}\n        </SimpleSelectOptionGroup>\n        <SimpleSelectOptionGroup label=\"Metric\">\n          {this.metricKeys.map((m: any) => (\n            <SimpleSelectOption key={'metric-' + m} value={'metric-' + m}>\n              {m}\n            </SimpleSelectOption>\n          ))}\n        </SimpleSelectOptionGroup>\n      </SimpleSelect>\n    );\n  }\n\n  getPlotlyTooltip(index: any) {\n    const keyLength = CompareRunScatterImpl.MAX_PLOT_KEY_LENGTH;\n    const valueLength = CompareRunScatterImpl.MAX_PLOT_VALUE_LENGTH;\n    const runName = this.props.runDisplayNames[index];\n    let result = `<b>${escape(runName)}</b><br>`;\n    const paramList = this.props.paramLists[index];\n    paramList.forEach((p) => {\n      result +=\n        escape(Utils.truncateString(p.key, keyLength)) +\n        ': ' +\n        escape(Utils.truncateString(p.value, valueLength)) +\n        '<br>';\n    });\n    const metricList = this.props.metricLists[index];\n    if (metricList.length > 0) {\n      result += paramList.length > 0 ? '<br>' : '';\n      metricList.forEach((m) => {\n        result += escape(Utils.truncateString(m.key, keyLength)) + ': ' + Utils.formatMetric(m.value) + '<br>';\n      });\n    }\n    return result;\n  }\n}\n\nconst styles = {\n  select: {\n    width: '100%',\n  },\n  plot: {\n    width: '100%',\n  },\n};\n\nconst mapStateToProps = (state: any, ownProps: any) => {\n  const runInfos: any = [];\n  const metricLists: any = [];\n  const paramLists: any = [];\n  const { runUuids } = ownProps;\n  runUuids.forEach((runUuid: any) => {\n    runInfos.push(getRunInfo(runUuid, state));\n    metricLists.push(Object.values(getLatestMetrics(runUuid, state)));\n    paramLists.push(Object.values(getParams(runUuid, state)));\n  });\n  return { runInfos, metricLists, paramLists };\n};\n\nexport const CompareRunScatter = connect(mapStateToProps)(CompareRunScatterImpl);\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nexport default class CompareRunUtil {\n  /**\n   * Find in a list of metrics/params a certain key\n   */\n  static findInList(data: any, key: any) {\n    let found = undefined;\n    data.forEach((value: any) => {\n      if (value.key === key) {\n        found = value;\n      }\n    });\n    return found;\n  }\n\n  /**\n   * Get all keys present in the data in ParamLists or MetricLists or Schema input and outputs lists\n   */\n  static getKeys(lists: any, numeric: any) {\n    const keys = {};\n    lists.forEach((list: any) =>\n      list.forEach((item: any) => {\n        if (!(item.key in keys)) {\n          // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n          keys[item.key] = true;\n        }\n        if (numeric && isNaN(parseFloat(item.value))) {\n          // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n          keys[item.key] = false;\n        }\n      }),\n    );\n    return (\n      Object.keys(keys)\n        // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n        .filter((k) => keys[k])\n        .sort()\n    );\n  }\n}\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport { LegacySkeleton } from '@databricks/design-system';\nimport { SectionErrorBoundary } from '../../common/components/error-boundaries/SectionErrorBoundary';\n\nconst Plot = React.lazy(() => import('react-plotly.js'));\n\nexport const LazyPlot = (props: any) => (\n  <SectionErrorBoundary>\n    <React.Suspense fallback={<LegacySkeleton active />}>\n      <Plot {...props} />\n    </React.Suspense>\n  </SectionErrorBoundary>\n);\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\nimport { LazyPlot } from './LazyPlot';\n\nconst AXIS_LABEL_CLS = '.pcp-plot .parcoords .y-axis .axis-heading .axis-title';\nexport const UNKNOWN_TERM = 'unknown';\n\ntype ParallelCoordinatesPlotViewProps = {\n  runUuids: string[];\n  paramKeys: string[];\n  metricKeys: string[];\n  paramDimensions: any[];\n  metricDimensions: any[];\n};\n\ntype ParallelCoordinatesPlotViewState = any;\n\nexport class ParallelCoordinatesPlotView extends React.Component<\n  ParallelCoordinatesPlotViewProps,\n  ParallelCoordinatesPlotViewState\n> {\n  state = {\n    // Current sequence of all axes, both parameters and metrics.\n    sequence: [...this.props.paramKeys, ...this.props.metricKeys],\n  };\n\n  static getDerivedStateFromProps(props: any, state: any) {\n    const keysFromProps = [...props.paramKeys, ...props.metricKeys];\n    const keysFromState = state.sequence;\n    if (!_.isEqual(_.sortBy(keysFromProps), _.sortBy(keysFromState))) {\n      return { sequence: keysFromProps };\n    }\n    return null;\n  }\n\n  getData() {\n    const { sequence } = this.state;\n    const { paramDimensions, metricDimensions, metricKeys } = this.props;\n    const lastMetricKey = this.findLastKeyFromState(metricKeys);\n    const lastMetricDimension = this.props.metricDimensions.find((d) => d.label === lastMetricKey);\n    const colorScaleConfigs = ParallelCoordinatesPlotView.getColorScaleConfigsForDimension(lastMetricDimension);\n    // This make sure axis order consistency across renders.\n    const orderedDimensions = ParallelCoordinatesPlotView.getDimensionsOrderedBySequence(\n      [...paramDimensions, ...metricDimensions],\n      sequence,\n    );\n    return [\n      {\n        type: 'parcoords',\n        line: { ...colorScaleConfigs },\n        dimensions: orderedDimensions,\n      },\n    ];\n  }\n\n  static getDimensionsOrderedBySequence(dimensions: any, sequence: any) {\n    return _.sortBy(dimensions, [(dimension) => sequence.indexOf(dimension.label)]);\n  }\n\n  static getLabelElementsFromDom = () => Array.from(document.querySelectorAll(AXIS_LABEL_CLS));\n\n  findLastKeyFromState(keys: any) {\n    const { sequence } = this.state;\n    const keySet = new Set(keys);\n    return _.findLast(sequence, (key) => keySet.has(key));\n  }\n\n  static getColorScaleConfigsForDimension(dimension: any) {\n    if (!dimension) return null;\n    const cmin = _.min(dimension.values);\n    const cmax = _.max(dimension.values);\n    return {\n      showscale: true,\n      colorscale: 'Jet',\n      cmin,\n      cmax,\n      color: dimension.values,\n    };\n  }\n\n  // Update styles(green & bold) for metric axes.\n  // Note(Zangr) 2019-6-25 this is needed because there is no per axis label setting available. This\n  // needs to be called every time chart updates. More information about currently available label\n  // setting here: https://plot.ly/javascript/reference/#parcoords-labelfont\n  updateMetricAxisLabelStyle = () => {\n    /* eslint-disable no-param-reassign */\n    const metricsKeySet = new Set(this.props.metricKeys);\n    // TODO(Zangr) 2019-06-20 This assumes name uniqueness across params & metrics. Find a way to\n    // make it more deterministic. Ex. Add add different data attributes to indicate axis kind.\n    ParallelCoordinatesPlotView.getLabelElementsFromDom()\n      .filter((el) => metricsKeySet.has(el.innerHTML))\n      .forEach((el) => {\n        (el as any).style.fill = 'green';\n        (el as any).style.fontWeight = 'bold';\n      });\n  };\n\n  maybeUpdateStateForColorScale = (currentSequenceFromPlotly: any) => {\n    const rightmostMetricKeyFromState = this.findLastKeyFromState(this.props.metricKeys);\n    const metricsKeySet = new Set(this.props.metricKeys);\n    const rightmostMetricKeyFromPlotly = _.findLast(currentSequenceFromPlotly, (key) => metricsKeySet.has(key));\n    // Currently we always render color scale based on the rightmost metric axis, so if that changes\n    // we need to setState with the new axes sequence to trigger a rerender.\n    if (rightmostMetricKeyFromState !== rightmostMetricKeyFromPlotly) {\n      this.setState({ sequence: currentSequenceFromPlotly });\n    }\n  };\n\n  handlePlotUpdate = ({ data: [{ dimensions }] }: any) => {\n    this.updateMetricAxisLabelStyle();\n    this.maybeUpdateStateForColorScale(dimensions.map((d: any) => d.label));\n  };\n\n  render() {\n    return (\n      <LazyPlot\n        layout={{ autosize: true, margin: { t: 50 } }}\n        useResizeHandler\n        css={styles.plot}\n        data={this.getData()}\n        onUpdate={this.handlePlotUpdate}\n        className=\"pcp-plot\"\n        config={{ displayModeBar: false }}\n      />\n    );\n  }\n}\n\nexport const generateAttributesForCategoricalDimension = (labels: any) => {\n  // Create a lookup from label to its own alphabetical sorted order.\n  // Ex. ['A', 'B', 'C'] => { 'A': '0', 'B': '1', 'C': '2' }\n  const sortedUniqLabels = _.uniq(labels).sort();\n\n  // We always want the UNKNOWN_TERM to be at the top\n  // of the chart which is end of the sorted label array\n  // Ex. ['A', 'UNKNOWN_TERM', 'B'] => { 'A': '0', 'B': '1', 'UNKNOWN_TERM': '2' }\n  let addUnknownTerm = false;\n  const filteredSortedUniqLabels = sortedUniqLabels.filter((label) => {\n    if (label === UNKNOWN_TERM) addUnknownTerm = true;\n    return label !== UNKNOWN_TERM;\n  });\n  if (addUnknownTerm) {\n    filteredSortedUniqLabels.push(UNKNOWN_TERM);\n  }\n  const labelToIndexStr = _.invert(filteredSortedUniqLabels);\n  const attributes = {};\n\n  // Values are assigned to their alphabetical sorted index number\n  (attributes as any).values = labels.map((label: any) => Number(labelToIndexStr[label]));\n\n  // Default to alphabetical order for categorical axis here. Ex. [0, 1, 2, 3 ...]\n  (attributes as any).tickvals = _.range(filteredSortedUniqLabels.length);\n\n  // Default to alphabetical order for categorical axis here. Ex. ['A', 'B', 'C', 'D' ...]\n  (attributes as any).ticktext = filteredSortedUniqLabels.map((sortedUniqLabel) =>\n    (sortedUniqLabel as any).substring(0, 10),\n  );\n\n  return attributes;\n};\n\n/**\n * Infer the type of data in a run. If all the values are numbers or castable to numbers, then\n * treat it as a number column.\n */\nexport const inferType = (key: any, runUuids: any, entryByRunUuid: any) => {\n  for (let i = 0; i < runUuids.length; i++) {\n    if (entryByRunUuid[runUuids[i]][key]) {\n      const { value } = entryByRunUuid[runUuids[i]][key];\n      if (typeof value === 'string' && isNaN(Number(value)) && value !== 'NaN') {\n        return 'string';\n      }\n    }\n  }\n  return 'number';\n};\n\nexport const createDimension = (key: any, runUuids: any, entryByRunUuid: any) => {\n  let attributes = {};\n  const dataType = inferType(key, runUuids, entryByRunUuid);\n  if (dataType === 'string') {\n    attributes = generateAttributesForCategoricalDimension(\n      runUuids.map((runUuid: any) =>\n        entryByRunUuid[runUuid][key] ? entryByRunUuid[runUuid][key].value : UNKNOWN_TERM,\n      ),\n    );\n  } else {\n    let maxValue = Number.MIN_SAFE_INTEGER;\n    const values = runUuids.map((runUuid: any) => {\n      if (entryByRunUuid[runUuid][key]) {\n        const { value } = entryByRunUuid[runUuid][key];\n        const numericValue = Number(value);\n        if (maxValue < numericValue) maxValue = numericValue;\n        return numericValue;\n      }\n      return UNKNOWN_TERM;\n    });\n\n    // For Numerical values, we take the max value of all the attribute\n    // values and 0.01 to it so it is always at top of the graph.\n    (attributes as any).values = values.map((value: any) => {\n      if (value === UNKNOWN_TERM) return maxValue + 0.01;\n      return value;\n    });\n\n    // For some reason, Plotly tries to plot these values with SI prefixes by default\n    // Explicitly set to 5 fixed digits float here\n    (attributes as any).tickformat = '.5f';\n  }\n  return {\n    label: key,\n    ...attributes,\n  };\n};\n\nconst styles = {\n  plot: {\n    width: '100%',\n  },\n};\n\nconst mapStateToProps = (state: any, ownProps: any) => {\n  const { runUuids, paramKeys, metricKeys } = ownProps;\n  const { latestMetricsByRunUuid, paramsByRunUuid } = state.entities;\n  const paramDimensions = paramKeys.map((paramKey: any) => createDimension(paramKey, runUuids, paramsByRunUuid));\n  const metricDimensions = metricKeys.map((metricKey: any) =>\n    createDimension(metricKey, runUuids, latestMetricsByRunUuid),\n  );\n  return { paramDimensions, metricDimensions };\n};\n\nexport default connect(mapStateToProps)(ParallelCoordinatesPlotView);\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport { Button, LegacySelect } from '@databricks/design-system';\nimport { FormattedMessage } from 'react-intl';\n\ntype Props = {\n  paramKeys: string[];\n  metricKeys: string[];\n  selectedParamKeys: string[];\n  selectedMetricKeys: string[];\n  handleParamsSelectChange: (...args: any[]) => any;\n  handleMetricsSelectChange: (...args: any[]) => any;\n  onClearAllSelect: (...args: any[]) => any;\n};\n\nexport class ParallelCoordinatesPlotControls extends React.Component<Props> {\n  render() {\n    const {\n      paramKeys,\n      metricKeys,\n      selectedParamKeys,\n      selectedMetricKeys,\n      handleParamsSelectChange,\n      handleMetricsSelectChange,\n      onClearAllSelect,\n    } = this.props;\n    return (\n      <div css={styles.wrapper}>\n        <div>\n          <FormattedMessage\n            defaultMessage=\"Parameters:\"\n            description=\"Label text for parameters in parallel coordinates plot in MLflow\"\n          />\n        </div>\n        <LegacySelect\n          mode=\"multiple\"\n          css={styles.select}\n          placeholder={\n            <FormattedMessage\n              defaultMessage=\"Please select parameters\"\n              description=\"Placeholder text for parameters in parallel coordinates plot in MLflow\"\n            />\n          }\n          value={selectedParamKeys}\n          onChange={handleParamsSelectChange}\n        >\n          {paramKeys.map((key) => (\n            <LegacySelect.Option value={key} key={key}>\n              {key}\n            </LegacySelect.Option>\n          ))}\n        </LegacySelect>\n        <div style={{ marginTop: 20 }}>\n          <FormattedMessage\n            defaultMessage=\"Metrics:\"\n            description=\"Label text for metrics in parallel coordinates plot in MLflow\"\n          />\n        </div>\n        <LegacySelect\n          mode=\"multiple\"\n          css={styles.select}\n          placeholder={\n            <FormattedMessage\n              defaultMessage=\"Please select metrics\"\n              description=\"Placeholder text for metrics in parallel coordinates plot in MLflow\"\n            />\n          }\n          value={selectedMetricKeys}\n          onChange={handleMetricsSelectChange}\n        >\n          {metricKeys.map((key) => (\n            <LegacySelect.Option value={key} key={key}>\n              {key}\n            </LegacySelect.Option>\n          ))}\n        </LegacySelect>\n        <div style={{ marginTop: 20 }}>\n          <Button\n            componentId=\"codegen_mlflow_app_src_experiment-tracking_components_parallelcoordinatesplotcontrols.tsx_84\"\n            data-test-id=\"clear-button\"\n            onClick={onClearAllSelect}\n          >\n            <FormattedMessage\n              defaultMessage=\"Clear All\"\n              description=\"String for the clear button to clear any selected parameters and metrics\"\n            />\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  wrapper: (theme: any) => ({\n    padding: `0 ${theme.spacing.xs}px`,\n  }),\n  select: { width: '100%' },\n};\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport ParallelCoordinatesPlotView from './ParallelCoordinatesPlotView';\nimport { ParallelCoordinatesPlotControls } from './ParallelCoordinatesPlotControls';\nimport {\n  getAllParamKeysByRunUuids,\n  getAllMetricKeysByRunUuids,\n  getSharedMetricKeysByRunUuids,\n} from '../reducers/Reducers';\nimport _ from 'lodash';\nimport { CompareRunPlotContainer } from './CompareRunPlotContainer';\nimport { FormattedMessage } from 'react-intl';\nimport { Typography } from '@databricks/design-system';\n\ntype ParallelCoordinatesPlotPanelProps = {\n  runUuids: string[];\n  allParamKeys: string[];\n  allMetricKeys: string[];\n  sharedMetricKeys: string[];\n  diffParamKeys: string[];\n};\n\ntype ParallelCoordinatesPlotPanelState = any;\n\nexport class ParallelCoordinatesPlotPanel extends React.Component<\n  ParallelCoordinatesPlotPanelProps,\n  ParallelCoordinatesPlotPanelState\n> {\n  state = {\n    // Default to select differing parameters. Sort alphabetically (to match\n    // highlighted params in param table), then cap at first 3\n    selectedParamKeys: this.props.diffParamKeys.sort().slice(0, 3),\n    // Default to select the first metric key.\n    // Note that there will be no color scaling if no metric is selected.\n    selectedMetricKeys: this.props.sharedMetricKeys.slice(0, 1),\n  };\n\n  handleParamsSelectChange = (paramValues: any) => {\n    this.setState({ selectedParamKeys: paramValues });\n  };\n\n  handleMetricsSelectChange = (metricValues: any) => {\n    this.setState({ selectedMetricKeys: metricValues });\n  };\n\n  onClearAllSelect = () => {\n    this.setState({ selectedParamKeys: [], selectedMetricKeys: [] });\n  };\n\n  render() {\n    const { runUuids, allParamKeys, allMetricKeys } = this.props;\n    const { selectedParamKeys, selectedMetricKeys } = this.state;\n    return (\n      <CompareRunPlotContainer\n        controls={\n          <ParallelCoordinatesPlotControls\n            paramKeys={allParamKeys}\n            metricKeys={allMetricKeys}\n            selectedParamKeys={selectedParamKeys}\n            selectedMetricKeys={selectedMetricKeys}\n            handleMetricsSelectChange={this.handleMetricsSelectChange}\n            handleParamsSelectChange={this.handleParamsSelectChange}\n            onClearAllSelect={this.onClearAllSelect}\n          />\n        }\n      >\n        {!_.isEmpty(selectedParamKeys) || !_.isEmpty(selectedMetricKeys) ? (\n          <ParallelCoordinatesPlotView\n            runUuids={runUuids}\n            paramKeys={selectedParamKeys}\n            metricKeys={selectedMetricKeys}\n          />\n        ) : (\n          // @ts-expect-error TS(2322): Type '(theme: any) => { padding: any; textAlign: s... Remove this comment to see the full error message\n          <div css={styles.noValuesSelected} data-testid=\"no-values-selected\">\n            <Typography.Title level={2}>\n              <FormattedMessage\n                defaultMessage=\"Nothing to compare!\"\n                // eslint-disable-next-line max-len\n                description=\"Header displayed in the metrics and params compare plot when no values are selected\"\n              />\n            </Typography.Title>\n            <FormattedMessage\n              defaultMessage=\"Please select parameters and/or metrics to display the comparison.\"\n              // eslint-disable-next-line max-len\n              description=\"Explanation displayed in the metrics and params compare plot when no values are selected\"\n            />\n          </div>\n        )}\n      </CompareRunPlotContainer>\n    );\n  }\n}\n\nexport const getDiffParams = (allParamKeys: any, runUuids: any, paramsByRunUuid: any) => {\n  const diffParamKeys: any = [];\n  allParamKeys.forEach((param: any) => {\n    // collect all values for this param\n    const paramVals = runUuids.map(\n      (runUuid: any) => paramsByRunUuid[runUuid][param] && paramsByRunUuid[runUuid][param].value,\n    );\n    if (!paramVals.every((x: any, i: any, arr: any) => x === arr[0])) diffParamKeys.push(param);\n  });\n  return diffParamKeys;\n};\n\nconst mapStateToProps = (state: any, ownProps: any) => {\n  const { runUuids } = ownProps;\n  const allParamKeys = getAllParamKeysByRunUuids(runUuids, state);\n  const allMetricKeys = getAllMetricKeysByRunUuids(runUuids, state);\n  const sharedMetricKeys = getSharedMetricKeysByRunUuids(runUuids, state);\n  const { paramsByRunUuid } = state.entities;\n  const diffParamKeys = getDiffParams(allParamKeys, runUuids, paramsByRunUuid);\n\n  return {\n    allParamKeys,\n    allMetricKeys,\n    sharedMetricKeys,\n    diffParamKeys,\n  };\n};\n\nconst styles = {\n  noValuesSelected: (theme: any) => ({\n    padding: theme.spacing.md,\n    textAlign: 'center',\n  }),\n};\n\n// @ts-expect-error TS(2345): Argument of type 'typeof ParallelCoordinatesPlotPa... Remove this comment to see the full error message\nexport default connect(mapStateToProps)(ParallelCoordinatesPlotPanel);\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport {\n  Breadcrumb,\n  Button,\n  Spacer,\n  Dropdown,\n  Menu,\n  Header,\n  OverflowIcon,\n  useDesignSystemTheme,\n} from '@databricks/design-system';\nimport { useIntl } from 'react-intl';\n\nimport { PreviewBadge } from './PreviewBadge';\n\ntype OverflowMenuProps = {\n  menu?: {\n    id: string;\n    itemName: React.ReactNode;\n    onClick?: (...args: any[]) => any;\n    href?: string;\n  }[];\n};\n\nexport function OverflowMenu({ menu }: OverflowMenuProps) {\n  const overflowMenu = (\n    <Menu>\n      {/* @ts-expect-error TS(2532): Object is possibly 'undefined'. */}\n      {menu.map(({ id, itemName, onClick, href, ...otherProps }) => (\n        // @ts-expect-error TS(2769): No overload matches this call.\n        <Menu.Item key={id} onClick={onClick} href={href} data-test-id={id} {...otherProps}>\n          {itemName}\n        </Menu.Item>\n      ))}\n    </Menu>\n  );\n\n  // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n  return menu.length > 0 ? (\n    <Dropdown overlay={overflowMenu} trigger={['click']} placement=\"bottomLeft\" arrow>\n      <Button\n        componentId=\"codegen_mlflow_app_src_shared_building_blocks_pageheader.tsx_54\"\n        icon={<OverflowIcon />}\n        data-test-id=\"overflow-menu-trigger\"\n        aria-label=\"Open header dropdown menu\"\n      />\n    </Dropdown>\n  ) : null;\n}\n\ntype PageHeaderProps = {\n  title: React.ReactNode;\n  breadcrumbs?: React.ReactNode[];\n  preview?: boolean;\n  feedbackForm?: string;\n  infoPopover?: React.ReactNode;\n  children?: React.ReactNode;\n  spacerSize?: 'xs' | 'sm' | 'md' | 'lg';\n  titleAddOns?: React.ReactNode | React.ReactNode[];\n};\n\n/**\n * A page header that includes:\n *   - title,\n *   - optional breadcrumb content,\n *   - optional preview mark,\n *   - optional feedback link, and\n *   - optional info popover, safe to have link inside.\n */\nexport function PageHeader(props: PageHeaderProps) {\n  const {\n    title, // required\n    breadcrumbs = [],\n    titleAddOns = [],\n    preview,\n    children,\n    spacerSize,\n  } = props;\n  const { theme } = useDesignSystemTheme();\n  const intl = useIntl();\n\n  return (\n    <>\n      <Header\n        breadcrumbs={\n          breadcrumbs.length > 0 && (\n            <Breadcrumb includeTrailingCaret>\n              {breadcrumbs.map((b, i) => (\n                <Breadcrumb.Item key={i}>{b}</Breadcrumb.Item>\n              ))}\n            </Breadcrumb>\n          )\n        }\n        buttons={children}\n        title={title}\n        // prettier-ignore\n        titleAddOns={\n          <>\n            {preview && <PreviewBadge css={{ marginLeft: 0 }} />}\n            {titleAddOns}\n          </>\n        }\n      />\n      <Spacer\n        // @ts-expect-error TS(2322): Type '{ css: { flexShrink: number; }; }' is not as... Remove this comment to see the full error message\n        css={{\n          // Ensure spacer's fixed height\n          flexShrink: 0,\n        }}\n        size={spacerSize}\n      />\n    </>\n  );\n}\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport { Tag, useDesignSystemTheme } from '@databricks/design-system';\nexport const PreviewBadge = ({ className }: { className?: string }) => {\n  const { theme } = useDesignSystemTheme();\n  return (\n    <Tag className={className} css={{ marginLeft: theme.spacing.xs }} color=\"turquoise\">\n      <FormattedMessage\n        defaultMessage=\"Experimental\"\n        description=\"Experimental badge shown for features which are experimental\"\n      />\n    </Tag>\n  );\n};\n"],"names":["PageContainer","props","usesFullHeight","restProps","_jsxs","PageWrapper","css","styles","useFullHeightLayout","wrapper","children","_jsx","Spacer","fixedSpacer","container","defaultProps","height","display","flexDirection","flexGrow","flex","flexShrink","width","paddingBottom","RequestStateWrapper","Component","constructor","arguments","state","shouldRender","shouldRenderError","getErrorRequests","requests","requestIdsWith404sToIgnore","filter","r","undefined","error","includes","id","getErrorCode","ErrorCodes","RESOURCE_DOES_NOT_EXIST","getDerivedStateFromProps","nextProps","length","every","active","requestErrors","getRenderedContent","customSpinner","permissionDeniedView","this","permissionDeniedErrors","failedRequest","PERMISSION_DENIED","shouldOptimisticallyRender","triggerError","Spinner","render","console","Error","connect","mapStateToProps","ownProps","getApis","requestIds","theme","spinner","showImmediately","alt","src","immediate","marginTop","marginLeft","marginRight","img","position","opacity","top","left","general","heightBase","animation","keyframes","animationDelay","SectionErrorBoundary","React","componentDidCatch","errorInfo","setState","renderErrorMessage","showServerError","message","className","classNames","href","Utils","getSupportPageUrl","target","ErrorUtils","mlflowServices","MODEL_REGISTRY","EXPERIMENTS","MODEL_SERVING","RUN_TRACKING","ErrorBoundaryContext","createContext","initialState","didCatch","ErrorBoundary","super","resetErrorBoundary","bind","getDerivedStateFromError","_this$props$onReset","_this$props","_len","args","Array","_key","onReset","call","reason","info","_this$props$onError","_this$props2","onError","componentDidUpdate","prevProps","prevState","resetKeys","_this$props$onReset2","_this$props3","a","b","some","item","index","Object","is","hasArrayChanged","next","prev","fallbackRender","FallbackComponent","fallback","childToRender","createElement","isValidElement","Provider","value","ErrorFallback","Empty","title","FormattedMessage","defaultMessage","description","image","DangerIcon","CustomErrorBoundary","_ref","componentStack","withErrorBoundary","service","errorMessage","withRouterNext","location","useLocation","navigate","useNavigate","params","useParams","paramOptionPrefix","_ref2","name","Selector","onChange","paramKeys","metricKeys","intl","useIntl","SimpleSelect","placeholder","formatMessage","_ref3","_prefix","key","split","isParam","startsWith","SimpleSelectOptionGroup","label","map","SimpleSelectOption","_ref10","_ref11","CompareRunBox","_ref4","runInfos","metricLists","paramLists","xAxis","setXAxis","useState","yAxis","setYAxis","from","Set","flat","_ref5","sort","_ref6","getBoxPlotData","data","forEach","_","metrics","x","find","_ref7","y","_ref8","push","entries","_ref9","values","type","jitter","pointpos","boxpoints","Row","Col","span","borderSpacer","FormUI","Label","htmlFor","LazyPlot","layout","margin","t","hovermode","xaxis","yaxis","config","responsive","displaylogo","scrollZoom","modeBarButtonsToRemove","useResizeHandler","Typography","Text","size","paddingLeft","spacing","xs","CompareRunContour","CompareRunUtil","getKeys","disabled","common","reverseColor","isMetric","zaxis","getValue","i","findInList","getColorscale","colorscale","val","keyLength","MAX_PLOT_KEY_LENGTH","ys","zs","tooltips","z","parseFloat","getPlotlyTooltip","CompareRunPlotContainer","controls","_Fragment","renderSelect","Switch","checked","maybeRenderPlot","invalidAxes","messageHead","join","noDataMessage","plot","hoverinfo","connectgaps","contours","coloring","text","mode","marker","color","escape","truncateString","range","Math","min","max","axis","prefix","keyParts","p","m","valueLength","MAX_PLOT_VALUE_LENGTH","runName","runDisplayNames","result","paramList","metricList","formatMetric","padding","sm","justifyContent","runUuids","runUuid","getRunInfo","getLatestMetrics","getParams","plotWrapper","overflow","minHeight","gridTemplateColumns","CompareRunScatterImpl","select","CompareRunScatter","found","lists","numeric","keys","list","isNaN","k","Plot","LegacySkeleton","UNKNOWN_TERM","ParallelCoordinatesPlotView","sequence","updateMetricAxisLabelStyle","metricsKeySet","getLabelElementsFromDom","el","has","innerHTML","style","fill","fontWeight","maybeUpdateStateForColorScale","currentSequenceFromPlotly","rightmostMetricKeyFromState","findLastKeyFromState","handlePlotUpdate","dimensions","d","keysFromProps","keysFromState","getData","paramDimensions","metricDimensions","lastMetricKey","lastMetricDimension","line","getColorScaleConfigsForDimension","getDimensionsOrderedBySequence","dimension","indexOf","keySet","showscale","cmin","cmax","autosize","onUpdate","displayModeBar","document","querySelectorAll","createDimension","entryByRunUuid","attributes","dataType","inferType","Number","labels","sortedUniqLabels","addUnknownTerm","filteredSortedUniqLabels","labelToIndexStr","tickvals","ticktext","sortedUniqLabel","substring","generateAttributesForCategoricalDimension","maxValue","MIN_SAFE_INTEGER","numericValue","tickformat","latestMetricsByRunUuid","paramsByRunUuid","entities","paramKey","metricKey","ParallelCoordinatesPlotControls","selectedParamKeys","selectedMetricKeys","handleParamsSelectChange","handleMetricsSelectChange","onClearAllSelect","LegacySelect","Option","Button","componentId","onClick","ParallelCoordinatesPlotPanel","diffParamKeys","slice","sharedMetricKeys","paramValues","metricValues","allParamKeys","allMetricKeys","noValuesSelected","Title","level","md","textAlign","getAllParamKeysByRunUuids","getAllMetricKeysByRunUuids","getSharedMetricKeysByRunUuids","getDiffParams","param","arr","OverflowMenu","menu","overflowMenu","Menu","itemName","otherProps","Item","Dropdown","overlay","trigger","placement","arrow","icon","OverflowIcon","PageHeader","breadcrumbs","titleAddOns","preview","spacerSize","useDesignSystemTheme","Header","Breadcrumb","includeTrailingCaret","buttons","PreviewBadge","Tag","_css"],"sourceRoot":""}