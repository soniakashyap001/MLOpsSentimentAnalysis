"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[224],{75205:function(e,t,s){s.d(t,{J:function(){return a},N:function(){return i}});var r=s(63479),n=s(56203);const a=e=>(t,s,n)=>{s?e().includes(s)?n(`Experiment "${s}" already exists.`):r.x.getExperimentByName({experiment_name:s}).then((e=>n(`Experiment "${s}" already exists in deleted state.\n                                 You can restore the experiment, or permanently delete the\n                                 experiment from the .trash folder (under tracking server's\n                                 root folder) in order to use this experiment name again.`))).catch((e=>n(void 0))):n(void 0)},i=(e,t,s)=>{t?n.x.getRegisteredModel({name:t}).then((()=>s(`Model "${t}" already exists.`))).catch((e=>s(void 0))):s(void 0)}},62374:function(e,t,s){s.d(t,{A:function(){return r}});class r{static getStoreForComponent(e,t){return new n([e,t].join("-"),"localStorage")}static getSessionScopedStoreForComponent(e,t){return new n([e,t].join("-"),"sessionStorage")}}r.version="1.1";class n{constructor(e,t){this.scope=void 0,this.storageObj=void 0,this.scope=e,this.storageObj="localStorage"===t?window.localStorage:window.sessionStorage}loadComponentState(){const e=this.getItem(n.reactComponentStateKey);return e?JSON.parse(e):{}}saveComponentState(e){const t="function"===typeof e.toJSON?e.toJSON():e;this.setItem(n.reactComponentStateKey,JSON.stringify(t))}withScopePrefix(e){return["MLflowLocalStorage",r.version,this.scope,e].join("-")}setItem(e,t){this.storageObj.setItem(this.withScopePrefix(e),t)}getItem(e){return this.storageObj.getItem(this.withScopePrefix(e))}}n.reactComponentStateKey="ReactComponentState"},2893:function(e,t,s){s.d(t,{h:function(){return a}});s(76998);var r=s(2543),n=s(51391);const a=e=>t=>{const s=(0,r.zy)(),a=(0,r.Zp)(),i=(0,r.g)();return(0,n.Y)(e,{params:i,location:s,navigate:a,...t})}},53581:function(e,t,s){s.d(t,{B:function(){return o}});var r=s(76998),n=s(64671),a=s(71146),i=s(51391);class o extends r.Component{constructor(){super(...arguments),this.state={isSubmitting:!1},this.formRef=r.createRef(),this.onSubmit=async()=>{this.setState({isSubmitting:!0});try{const e=await this.formRef.current.validateFields();return await this.props.handleSubmit(e).then(this.resetAndClearModalForm).catch(this.handleSubmitFailure).finally(this.onRequestCloseHandler)}catch(e){return this.setState({isSubmitting:!1}),Promise.reject(e)}},this.resetAndClearModalForm=()=>{this.setState({isSubmitting:!1}),this.formRef.current.resetFields()},this.handleSubmitFailure=e=>{this.setState({isSubmitting:!1}),a.A.logErrorAndNotifyUser(e)},this.onRequestCloseHandler=()=>{this.state.isSubmitting||(this.resetAndClearModalForm(),this.props.onClose())},this.handleCancel=()=>{this.onRequestCloseHandler(),void 0!==this.props.onCancel&&this.props.onCancel()}}render(){const{isSubmitting:e}=this.state,{okText:t,cancelText:s,isOpen:a,footer:o,children:l}=this.props,d=r.Children.map(l,(e=>r.isValidElement(e)?r.cloneElement(e,{innerRef:this.formRef}):e));return(0,i.Y)(n.M,{"data-testid":"mlflow-input-modal",className:this.props.className,title:this.props.title,width:540,visible:a,onOk:this.onSubmit,okText:t,cancelText:s,confirmLoading:e,onCancel:this.handleCancel,footer:o,centered:!0,children:d})}}},25224:function(e,t,s){s.r(t),s.d(t,{ModelListPageWrapper:function(){return fe},default:function(){return Se}});var r=s(72066),n=s(28976),a=s(76998),i=s(71146),o=s(69578),l=s(41648),d=s(3281),c=s(53581),h=s(8704),u=s(47609),g=s(34139),m=s(24816),p=s(51391);const f="modelName";class S extends a.Component{render(){const e=S.getLearnMoreLinkUrl();return(0,p.FD)(h.lVW,{ref:this.props.innerRef,layout:"vertical","data-testid":"create-model-form-modal",children:[(0,p.Y)(h.lVW.Item,{name:f,label:this.props.intl.formatMessage({id:"9mAGv0",defaultMessage:"Model name"}),rules:[{required:!0,message:this.props.intl.formatMessage({id:"7nAMnb",defaultMessage:"Please input a name for the new model."})},{validator:this.props.validator}],children:(0,p.Y)(u.I,{autoFocus:!0})}),(0,p.FD)("p",{className:"create-modal-explanatory-text",children:[(0,p.Y)(g.A,{id:"+wQBvn",defaultMessage:"After creation, you can register logged models as new versions.\xa0"}),(0,p.Y)(g.A,{id:"iZm6YQ",defaultMessage:"<link>Learn more</link>",values:{link:t=>(0,p.Y)("a",{href:e,target:"_blank",children:t})}}),"."]})]})}}S.getLearnMoreLinkUrl=()=>l.qT;const v=(0,m.Ay)(S);var y=s(89365),M=s(13004),A=s(33444),Y=s(29037),C=s(45901),I=s(75205),R=s(2893);class T extends a.Component{constructor(){super(...arguments),this.createRegisteredModelRequestId=(0,A.yk)(),this.handleCreateRegisteredModel=async e=>{const t=await this.props.createRegisteredModelApi(e[f],this.createRegisteredModelRequestId),s=t.value&&t.value.registered_model;s&&setTimeout((()=>this.props.navigate(Y.fM.getModelPageRoute(s.name))))},this.debouncedModelNameValidator=(0,C.debounce)(I.N,400),this.handleOnCancel=()=>{this.props.navigateBackOnCancel&&this.props.navigate(Y.fM.modelListPageRoute)}}render(){const{modalVisible:e,hideModal:t}=this.props;return(0,p.Y)(c.B,{title:this.props.intl.formatMessage({id:"mIk1MU",defaultMessage:"Create Model"}),okText:this.props.intl.formatMessage({id:"MatV9u",defaultMessage:"Create"}),cancelText:this.props.intl.formatMessage({id:"SCYMXw",defaultMessage:"Cancel"}),isOpen:e,handleSubmit:this.handleCreateRegisteredModel,onClose:t,onCancel:this.handleOnCancel,children:(0,p.Y)(v,{visible:e,validator:this.debouncedModelNameValidator})})}}const b={createRegisteredModelApi:M.eF},P=(0,R.h)((0,y.Ng)(void 0,b)((0,m.Ay)(T))),N=(0,r.X)(n.A.mlflowServices.MODEL_REGISTRY,P);class _ extends a.Component{constructor(){super(...arguments),this.state={modalVisible:!1},this.hideModal=()=>{this.setState({modalVisible:!1})},this.showModal=()=>{this.setState({modalVisible:!0})}}render(){const{modalVisible:e}=this.state,t=this.props.buttonType||"primary",s=this.props.buttonText||(0,p.Y)(g.A,{id:"ZwAzmu",defaultMessage:"Create Model"});return(0,p.FD)("div",{css:x.wrapper,children:[(0,p.Y)(d.B,{className:"create-model-btn",css:x.getButtonSize(t),type:t,onClick:this.showModal,"data-testid":"create-model-button",children:s}),(0,p.Y)(N,{modalVisible:e,hideModal:this.hideModal})]})}}const x={getButtonSize:e=>"primary"===e?{height:"40px",width:"fit-content"}:{padding:"0px"},wrapper:{display:"inline"}};var k=s(62374),E=s(18509),w=s(16936),D=s(86288),O=s(55639);var L={name:"mfyowb",styles:"border:0;background:none;padding:0;line-height:0;cursor:pointer"};const B=()=>{const{formatMessage:e}=(0,D.A)(),t=(0,O.zR)({id:"wMG8+P",defaultMessage:"To search by tags or by names and tags, use a simplified version{newline}of the SQL {whereBold} clause."}),s=e(t,{newline:" ",whereBold:"WHERE"});return(0,p.FD)(d.a0.Root,{children:[(0,p.Y)(d.a0.Trigger,{"aria-label":s,css:L,children:(0,p.Y)(h.mo0,{})}),(0,p.FD)(d.a0.Content,{align:"start",children:[(0,p.FD)("div",{children:[(0,p.Y)(g.A,{...t,values:{newline:(0,p.Y)("br",{}),whereBold:(0,p.Y)("b",{children:"WHERE"})}})," ",(0,p.Y)(g.A,{id:"3bagxW",defaultMessage:"<link>Learn more</link>",values:{link:e=>(0,p.Y)(d.o.Link,{href:l.g2+"#syntax",openInNewTab:!0,children:e})}}),(0,p.Y)("br",{}),(0,p.Y)("br",{}),(0,p.Y)(g.A,{id:"U3btBc",defaultMessage:"Examples:"}),(0,p.Y)("br",{}),'\u2022 tags.my_key = "my_value"',(0,p.Y)("br",{}),'\u2022 name ilike "%my_model_name%" and tags.my_key = "my_value"']}),(0,p.Y)(d.a0.Arrow,{})]})]})},F=e=>{let{searchFilter:t,onSearchFilterChange:s,isFiltered:r}=e;const n=(0,D.A)(),[i,o]=(0,a.useState)(t);(0,a.useEffect)((()=>{o(t)}),[t]);return(0,p.FD)(h.R9P,{children:[(0,p.Y)(h.z2z,{placeholder:n.formatMessage({id:"6Nk5AH",defaultMessage:"Filter registered models by name or tags"}),onSubmit:()=>{s(i)},onClear:()=>{o(""),s("")},onChange:e=>o(e.target.value),"data-testid":"model-search-input",suffix:(0,p.Y)(B,{}),value:i,showSearchButton:!0}),r&&(0,p.Y)(d.B,{componentId:"codegen_mlflow_app_src_model-registry_components_model-list_modellistfilters.tsx_152",type:"tertiary",onClick:()=>{s("")},"data-testid":"models-list-filters-reset",children:(0,p.Y)(g.A,{id:"n/l2ft",defaultMessage:"Reset filters"})})]})};var V=s(60600),K=s(32038),G=s(2543),U=s(64819),H=s(65278);const W=()=>(0,p.Y)(p.FK,{children:"\u2014"});var z={name:"1gz2b5f",styles:"overflow:hidden;text-overflow:ellipsis"};const Q=e=>{let{tags:t}=e;const{theme:s}=(0,d.a)(),[r,n]=(0,a.useState)(!1),i=null===t||void 0===t?void 0:t.filter((e=>!e.key.startsWith(H.nt))),o=null===i||void 0===i?void 0:i.slice(0,r?void 0:3);if(null===i||void 0===i||!i.length)return(0,p.Y)(W,{});const l=(0,p.Y)("em",{children:(0,p.Y)(g.A,{id:"2I27Yy",defaultMessage:"(empty)"})});return(0,p.FD)("div",{children:[o.map((e=>(0,p.Y)(h.paO,{title:(0,p.FD)(p.FK,{children:[e.key,": ",e.value||l]}),placement:"left",children:(0,p.FD)("div",{css:z,"data-testid":"models-table-tag-entry",children:[(0,p.Y)(d.o.Text,{bold:!0,children:e.key}),": ",e.value||l]},e.key)},e.key))),t.length>3&&(0,p.Y)(d.B,{componentId:"codegen_mlflow_app_src_model-registry_components_model-list_modeltablecellrenderers.tsx_65",css:(0,U.AH)({marginTop:s.spacing.sm},""),size:"small",onClick:()=>n(!r),icon:r?(0,p.Y)(h.H$v,{}):(0,p.Y)(h.mc5,{}),"data-testid":"models-table-show-more-tags",children:r?(0,p.Y)(g.A,{id:"nddV+2",defaultMessage:"Show less"}):(0,p.Y)(g.A,{id:"cJo1zH",defaultMessage:"{value} more",values:{value:i.length-3}})})]})},j=e=>{let{versionNumber:t,name:s}=e;return t?(0,p.Y)(g.A,{id:"U+Jzcv",defaultMessage:"<link>Version {versionNumber}</link>",values:{versionNumber:t,link:e=>(0,p.Y)(G.N_,{to:Y.fM.getModelVersionPageRoute(s,t),children:e})}}):(0,p.Y)(W,{})};var q=s(84948);const J=(0,O.zR)({id:"M1dwxx",defaultMessage:"Version {version}"});var $={name:"1u2bo0v",styles:"margin-right:0;cursor:pointer"},X={name:"1u2bo0v",styles:"margin-right:0;cursor:pointer"};const Z=e=>{let{model:t}=e;const{aliases:s}=t,{theme:r}=(0,d.a)();if(null===s||void 0===s||!s.length)return null;const n=(0,C.sortBy)(s,(e=>{let{version:t}=e;return parseInt(t,10)||0})).reverse(),a=(0,C.first)(n);if(!a)return null;const i=n.filter((e=>e!==a));return(0,p.FD)("div",{children:[(0,p.FD)(G.N_,{to:Y.fM.getModelVersionPageRoute(t.name,a.version),children:[(0,p.Y)(q.m,{value:a.alias,css:$}),": ",(0,p.Y)(g.A,{...J,values:{version:a.version}})]}),i.length>0&&(0,p.FD)(h.rId.Root,{modal:!1,children:[(0,p.Y)(h.rId.Trigger,{asChild:!0,children:(0,p.FD)(d.B,{componentId:"codegen_mlflow_app_src_model-registry_components_aliases_modelstablealiasedversionscell.tsx_47",size:"small",css:(0,U.AH)({borderRadius:12,marginLeft:r.spacing.xs},""),children:["+",s.length-1]})}),(0,p.Y)(h.rId.Content,{align:"start",children:i.map((e=>{let{alias:s,version:n}=e;return(0,p.Y)(h.rId.Item,{children:(0,p.FD)(G.N_,{to:Y.fM.getModelVersionPageRoute(t.name,n),children:[(0,p.Y)(q.m,{value:s,css:X}),":"," ",(0,p.Y)("span",{css:(0,U.AH)({color:r.colors.actionTertiaryTextDefault},""),children:(0,p.Y)(g.A,{...J,values:{version:n}})})]})},s)}))})]})]})};var ee=s(82630);const te=(e,t)=>{const s=e&&e.find((e=>e.current_stage===t));return s&&s.version};var se=function(e){return e.NAME="name",e.LATEST_VERSION="latest_versions",e.LAST_MODIFIED="timestamp",e.CREATED_BY="user_id",e.STAGE_STAGING="stage_staging",e.STAGE_PRODUCTION="stage_production",e.TAGS="tags",e.ALIASED_VERSIONS="aliased_versions",e}(se||{});const re=e=>{let{modelsData:t,orderByAsc:s,orderByKey:r,onSortChange:n,isLoading:c,error:m,isFiltered:f,pagination:S}=e;const v=(0,D.A)(),{usingNextModelsUI:y}=(0,ee.E)(),M=(0,a.useMemo)((()=>{const e=[{id:se.NAME,enableSorting:!0,header:v.formatMessage({id:"g17Es2",defaultMessage:"Name"}),accessorKey:"name",cell:e=>{let{getValue:t}=e;return(0,p.Y)(G.N_,{to:Y.fM.getModelPageRoute(String(t())),children:(0,p.Y)(h.paO,{title:t(),children:t()})})},meta:{styles:{minWidth:200,flex:1}}},{id:se.LATEST_VERSION,enableSorting:!1,header:v.formatMessage({id:"CruI7o",defaultMessage:"Latest version"}),accessorKey:"latest_versions",cell:e=>{let{getValue:t,row:{original:s}}=e;const{name:r}=s,n=t(),a=Boolean(null===n||void 0===n?void 0:n.length)&&Math.max(...n.map((e=>parseInt(e.version,10)))).toString()||"";return(0,p.Y)(j,{name:r,versionNumber:a})},meta:{styles:{maxWidth:120}}}];return y?e.push({id:se.ALIASED_VERSIONS,enableSorting:!1,header:v.formatMessage({id:"WQwCH6",defaultMessage:"Aliased versions"}),cell:e=>{let{row:{original:t}}=e;return(0,p.Y)(Z,{model:t})},meta:{styles:{minWidth:150}}}):e.push({id:se.STAGE_STAGING,enableSorting:!1,header:v.formatMessage({id:"08WP3h",defaultMessage:"Staging"}),cell:e=>{let{row:{original:t}}=e;const{latest_versions:s,name:r}=t,n=te(s,o.e3.STAGING);return(0,p.Y)(j,{name:r,versionNumber:n})},meta:{styles:{maxWidth:120}}},{id:se.STAGE_PRODUCTION,enableSorting:!1,header:v.formatMessage({id:"PGbCZD",defaultMessage:"Production"}),cell:e=>{let{row:{original:t}}=e;const{latest_versions:s,name:r}=t,n=te(s,o.e3.PRODUCTION);return(0,p.Y)(j,{name:r,versionNumber:n})},meta:{styles:{maxWidth:120}}}),e.push({id:se.CREATED_BY,header:v.formatMessage({id:"WP1pyQ",defaultMessage:"Created by"}),accessorKey:"user_id",enableSorting:!1,cell:e=>{let{getValue:t}=e;return(0,p.Y)("span",{title:t(),children:t()})},meta:{styles:{flex:1}}},{id:se.LAST_MODIFIED,enableSorting:!0,header:v.formatMessage({id:"Gs+blV",defaultMessage:"Last modified"}),accessorKey:"last_updated_timestamp",cell:e=>{let{getValue:t}=e;return(0,p.Y)("span",{children:i.A.formatTimestamp(t())})},meta:{styles:{flex:1,maxWidth:150}}},{id:se.TAGS,header:v.formatMessage({id:"nC54Nf",defaultMessage:"Tags"}),enableSorting:!1,accessorKey:"tags",cell:e=>{let{getValue:t}=e;return(0,p.Y)(Q,{tags:t()})}}),e}),[v,y]),A=[{id:r,desc:!s}];let C=l.gw;const I=(0,p.Y)(g.A,{id:"JNS471",defaultMessage:"No results. Try using a different keyword or adjusting your filters."}),R=m?(0,p.Y)(h.SvL,{image:(0,p.Y)(d.W,{}),description:m.message,title:(0,p.Y)(g.A,{id:"5cac8T",defaultMessage:"Error fetching models"})}):f?(0,p.Y)(h.SvL,{description:I,image:(0,p.Y)(h.WIv,{}),"data-testid":"model-list-no-results"}):(0,p.Y)(h.SvL,{description:(0,p.Y)(g.A,{id:"Oj2ENw",defaultMessage:"No models registered yet. <link>Learn more about registering models</link>.",values:{link:e=>(0,p.Y)("a",{target:"_blank",rel:"noopener noreferrer",href:C,children:e})}}),image:(0,p.Y)(u.P,{}),button:(0,p.Y)(_,{buttonType:"primary",buttonText:(0,p.Y)(g.A,{id:"RUw2fH",defaultMessage:"Create a model"})})}),T=(0,V.N4)({data:t,columns:M,state:{sorting:A},getCoreRowModel:(0,K.HT)(),getRowId:e=>{let{id:t}=e;return t},onSortingChange:e=>{const[t]="function"===typeof e?e(A):e;t&&n({orderByKey:t.id,orderByAsc:!t.desc})}});return(0,p.Y)(p.FK,{children:(0,p.FD)(h.XIK,{"data-testid":"model-list-table",pagination:S,scrollable:!0,empty:!c&&0===T.getRowModel().rows.length||m?R:void 0,children:[(0,p.Y)(h.Hjg,{isHeader:!0,children:T.getLeafHeaders().map((e=>{var t;return(0,p.Y)(h.A0N,{ellipsis:!0,sortable:e.column.getCanSort(),sortDirection:e.column.getIsSorted()||"none",onToggleSort:()=>{const[t]=A,s=!!(e.column.id===t.id)&&!t.desc;e.column.toggleSorting(s)},css:null===(t=e.column.columnDef.meta)||void 0===t?void 0:t.styles,children:(0,V.Kv)(e.column.columnDef.header,e.getContext())},e.id)}))}),c?(0,p.Y)(h.BAM,{table:T}):T.getRowModel().rows.map((e=>(0,p.Y)(h.Hjg,{children:e.getAllCells().map((e=>{var t;return(0,p.Y)(h.nA6,{ellipsis:!0,css:null===(t=e.column.columnDef.meta)||void 0===t?void 0:t.styles,children:(0,V.Kv)(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)))]})})};var ne=s(13804),ae=s(87004);var ie={name:"18e72da",styles:"width:100%;align-items:center;display:flex"},oe={name:"82a6rk",styles:"flex:1"};class le extends a.Component{constructor(e){super(e),this.handleSearch=(e,t)=>{null===e||void 0===e||e.preventDefault(),this.props.onSearch(t)},this.unifiedTableSortChange=e=>{let{orderByKey:t,orderByAsc:s}=e;const r={timestamp:"last_updated_timestamp"}[t]||t;this.handleTableChange(void 0,void 0,{field:r,order:s?"undefined":"descend"})},this.handleTableChange=(e,t,s)=>{this.props.onClickSortableColumn(le.getSortFieldName(s.field),s.order)},this.handleClickNext=()=>{this.props.onClickNext()},this.handleClickPrev=()=>{this.props.onClickPrev()},this.handleSetMaxResult=e=>{let{item:t,key:s,keyPath:r,domEvent:n}=e;this.props.onSetMaxResult(s)},this.state={maxResultsSelection:o.CG}}disableOnboardingHelper(){le.getLocalStore(l.Ge).setItem("showRegistryHelper","false")}static getLocalStore(e){return k.A.getStoreForComponent("ModelListView",e)}componentDidMount(){i.A.updatePageTitle("MLflow Models")}render(){const{models:e,currentPage:t,nextPageToken:s,searchInput:r}=this.props,{loading:n,error:a}=this.props,i=Boolean(r),o=(0,p.Y)(g.A,{id:"qMwRy3",defaultMessage:"Registered Models"});return(0,p.FD)(ne.L,{"data-test-id":"ModelListView-container",usesFullHeight:!0,children:[(0,p.FD)("div",{children:[(0,p.Y)(E.z,{infoPopover:(0,p.FD)("div",{children:[le.getLearnMoreDisplayString()," ",(0,p.Y)(g.A,{id:"aYsI8a",defaultMessage:"<link>Learn more</link>",values:{link:e=>(0,p.Y)(d.o.Link,{href:le.getLearnMoreLinkUrl(),openInNewTab:!0,children:e})}})]}),title:o,children:(0,p.Y)(_,{})}),(0,p.Y)(F,{searchFilter:this.props.searchInput,onSearchFilterChange:e=>this.handleSearch(null,e),isFiltered:i})]}),(0,p.Y)(re,{modelsData:e,onSortChange:this.unifiedTableSortChange,orderByKey:this.props.orderByKey,orderByAsc:this.props.orderByAsc,isLoading:n||!1,error:a,pagination:(0,p.FD)("div",{"data-testid":"model-list-view-pagination",css:ie,children:[(0,p.Y)("div",{css:oe,children:(0,w.WX)()&&(0,p.Y)(ae.C,{})}),(0,p.Y)("div",{children:(0,p.Y)(h.vIA,{hasNextPage:Boolean(s),hasPreviousPage:t>1,onNextPage:this.handleClickNext,onPreviousPage:this.handleClickPrev,pageSizeSelect:{onChange:e=>this.handleSetMaxResult({key:e}),default:this.props.maxResultValue,options:[10,25,50,100]}})})]}),isFiltered:i})]})}}le.defaultProps={models:[],searchInput:""},le.getSortFieldName=e=>{switch(e){case"name":return o.Qs;case"last_updated_timestamp":return o.BE;default:return null}},le.getLearnMoreLinkUrl=()=>l.qT,le.getLearnMoreDisplayString=()=>l.N0;const de=(0,ee.p)((0,m.Ay)(le));var ce=s(99476);var he={name:"gmowil",styles:"height:calc(100% - 60px)"};const ue=e=>{let{children:t}=e;return(0,p.Y)(h.ffj,{css:he,children:t})};class ge extends a.Component{constructor(e){var t;super(e),t=this,this.modelListPageStoreKey="ModelListPageStore",this.defaultPersistedPageTokens={1:null},this.initialSearchRegisteredModelsApiId=(0,A.yk)(),this.searchRegisteredModelsApiId=(0,A.yk)(),this.criticalInitialRequestIds=[this.initialSearchRegisteredModelsApiId],this.pollIntervalId=void 0,this.isEmptyPageResponse=e=>!e||!e.registered_models||!e.next_page_token,this.updatePageState=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.getNextPageTokenFromResponse(s);t.setState((t=>({currentPage:e,pageTokens:{...t.pageTokens,[e+1]:r}})),(()=>{t.setPersistedPageTokens(t.state.pageTokens)}))},this.handleSearch=e=>{this.resetHistoryState(),this.setState({searchInput:e},(()=>{this.loadPage(1,!1)}))},this.handleSearchInputChange=e=>{this.setState({searchInput:e})},this.updateUrlWithSearchFilter=(e,t,s,r)=>{const n={};e&&(n.searchInput=e),t&&t!==o.Qs&&(n.orderByKey=t),!1===s&&(n.orderByAsc=s),r&&1!==r&&(n.page=r);const a=(0,G.Oz)(`/models?${i.A.getSearchUrlFromState(n)}`);a!==this.props.location.pathname+this.props.location.search&&this.props.navigate(a)},this.handleMaxResultsChange=e=>{this.setState({maxResultsSelection:parseInt(e,10)},(()=>{this.resetHistoryState();const{maxResultsSelection:e}=this.state;this.setMaxResultsInStore(e),this.loadPage(1,!1)}))},this.handleClickNext=()=>{const{currentPage:e}=this.state;this.loadPage(e+1,!1)},this.handleClickPrev=()=>{const{currentPage:e}=this.state;this.loadPage(e-1,!1)},this.handleClickSortableColumn=(e,t)=>{const s=t!==o.uB.DESC;this.setState({orderByKey:e,orderByAsc:s},(()=>{this.resetHistoryState(),this.loadPage(1,!1)}))},this.getMaxResultsSelection=()=>this.state.maxResultsSelection,this.state={orderByKey:o.Qs,orderByAsc:!0,currentPage:1,maxResultsSelection:this.getPersistedMaxResults(),pageTokens:{},loading:!0,error:void 0,searchInput:(0,ce._C)(this.getUrlState())}}getUrlState(){return this.props.location?i.A.getSearchParamsFromUrl(this.props.location.search):{}}componentDidMount(){const e=this.getUrlState(),t=this.getPersistedPageTokens(),s=this.getPersistedMaxResults();this.setState({orderByKey:void 0===e.orderByKey?this.state.orderByKey:e.orderByKey,orderByAsc:void 0===e.orderByAsc?this.state.orderByAsc:"true"===e.orderByAsc,currentPage:void 0!==e.page&&e.page in t?parseInt(e.page,10):this.state.currentPage,maxResultsSelection:s,pageTokens:t},(()=>{this.loadModels(!0)}))}getPersistedPageTokens(){const e=ge.getLocalStore(this.modelListPageStoreKey);return e&&e.getItem("page_tokens")?JSON.parse(e.getItem("page_tokens")):this.defaultPersistedPageTokens}setPersistedPageTokens(e){const t=ge.getLocalStore(this.modelListPageStoreKey);t&&t.setItem("page_tokens",JSON.stringify(e))}getPersistedMaxResults(){const e=ge.getLocalStore(this.modelListPageStoreKey);return e&&e.getItem("max_results")?parseInt(e.getItem("max_results"),10):o.CG}setMaxResultsInStore(e){ge.getLocalStore(this.modelListPageStoreKey).setItem("max_results",e.toString())}static getLocalStore(e){return k.A.getSessionScopedStoreForComponent("ModelListPage",e)}loadModels(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loadPage(this.state.currentPage,e)}resetHistoryState(){this.setState((e=>({currentPage:1,pageTokens:this.defaultPersistedPageTokens}))),this.setPersistedPageTokens(this.defaultPersistedPageTokens)}getNextPageTokenFromResponse(e){const{value:t}=e;return this.isEmptyPageResponse(t)?null:t.next_page_token}loadPage(e,t){const{searchInput:s,pageTokens:r,orderByKey:n,orderByAsc:a}=this.state;this.setState({loading:!0,error:void 0}),this.updateUrlWithSearchFilter(s,n,a,e),this.props.searchRegisteredModelsApi((0,ce.so)({query:s}),this.state.maxResultsSelection,ge.getOrderByExpr(n,a),r[e],t?this.initialSearchRegisteredModelsApiId:this.searchRegisteredModelsApiId).then((t=>{this.updatePageState(e,t)})).catch((e=>{this.setState({currentPage:1,error:e}),this.resetHistoryState()})).finally((()=>{this.setState({loading:!1})}))}render(){const{orderByKey:e,orderByAsc:t,currentPage:s,pageTokens:r,searchInput:n}=this.state,{models:a}=this.props;return(0,p.Y)(ue,{children:(0,p.Y)(de,{models:a,loading:this.state.loading,error:this.state.error,searchInput:n,orderByKey:e,orderByAsc:t,currentPage:s,nextPageToken:r[s+1],onSearch:this.handleSearch,onClickNext:this.handleClickNext,onClickPrev:this.handleClickPrev,onClickSortableColumn:this.handleClickSortableColumn,onSetMaxResult:this.handleMaxResultsChange,maxResultValue:this.getMaxResultsSelection()})})}}ge.getOrderByExpr=(e,t)=>e?`${e} ${t?"ASC":"DESC"}`:"";const me={searchRegisteredModelsApi:M.JK},pe=(0,R.h)((0,y.Ng)((e=>({models:Object.values(e.entities.modelByName)})),me)(ge)),fe=(0,r.X)(n.A.mlflowServices.MODEL_REGISTRY,(()=>(0,p.Y)(pe,{})));var Se=fe},69578:function(e,t,s){s.d(t,{$0:function(){return c},$p:function(){return h},BE:function(){return M},CG:function(){return S},Gs:function(){return f},IP:function(){return u},QQ:function(){return d},Qs:function(){return y},SF:function(){return v},Tm:function(){return C},UA:function(){return p},e3:function(){return o},gL:function(){return Y},jI:function(){return l},uB:function(){return A},zA:function(){return g},zr:function(){return m}});s(76998);var r=s(8704),n=s(34139),a=s(84254),i=s(51391);const o={NONE:"None",STAGING:"Staging",PRODUCTION:"Production",ARCHIVED:"Archived"},l=[o.STAGING,o.PRODUCTION],d={[o.NONE]:"None",[o.STAGING]:"Staging",[o.PRODUCTION]:"Production",[o.ARCHIVED]:"Archived"},c={[o.NONE]:(0,i.Y)(r.vwO,{children:d[o.NONE]}),[o.STAGING]:(0,i.Y)(r.vwO,{color:"lemon",children:d[o.STAGING]}),[o.PRODUCTION]:(0,i.Y)(r.vwO,{color:"lime",children:d[o.PRODUCTION]}),[o.ARCHIVED]:(0,i.Y)(r.vwO,{color:"charcoal",children:d[o.ARCHIVED]})},h={APPLIED_TRANSITION:"APPLIED_TRANSITION",REQUESTED_TRANSITION:"REQUESTED_TRANSITION",SYSTEM_TRANSITION:"SYSTEM_TRANSITION",CANCELLED_REQUEST:"CANCELLED_REQUEST",APPROVED_REQUEST:"APPROVED_REQUEST",REJECTED_REQUEST:"REJECTED_REQUEST",NEW_COMMENT:"NEW_COMMENT"},u=((0,i.Y)("div",{style:{marginTop:-12},children:"_"}),{READY:"READY"}),g={[u.READY]:(0,i.Y)(n.A,{id:"f/An1W",defaultMessage:"Ready."})},m={[u.READY]:(0,i.Y)(n.A,{id:"zAvilr",defaultMessage:"Ready"})},p={[u.READY]:(0,i.Y)(a.vV,{})},f=1e4,S=25,v=75,y="name",M="timestamp",A={ASC:"ascend",DESC:"descend"},Y=e=>(0,i.Y)(n.A,{id:"Ll6vbT",defaultMessage:"Model versions in the `{currentStage}` stage will be moved to the `Archived` stage.",values:{currentStage:e}}),C="https://mlflow.org/docs/latest/model-registry.html#using-registered-model-aliases"},99476:function(e,t,s){s.d(t,{_C:function(){return o},pc:function(){return a},so:function(){return i}});var r=s(69578),n=s(13004);function a(e){return e?`${r.Qs} ilike ${(0,n.GP)(e,!0)}`:""}function i(){let{query:e=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[],s=e.includes("tags.")?e:a(e);return s&&t.push(s),t.join(" AND ")}function o(e){return"searchInput"in e?e.searchInput:"nameSearchInput"in e&&"tagSearchInput"in e?a(e.nameSearchInput)+" AND "+e.tagSearchInput:"tagSearchInput"in e?e.tagSearchInput:"nameSearchInput"in e?e.nameSearchInput:""}},18509:function(e,t,s){s.d(t,{o:function(){return d},z:function(){return u}});s(76998);var r=s(8704),n=s(3281),a=s(64671),i=s(86288),o=s(98374),l=s(51391);function d(e){let{menu:t}=e;const s=(0,l.Y)(r.W1t,{children:t.map((e=>{let{id:t,itemName:s,onClick:n,href:a,...i}=e;return(0,l.Y)(r.W1t.Item,{onClick:n,href:a,"data-test-id":t,...i,children:s},t)}))});return t.length>0?(0,l.Y)(r.msM,{overlay:s,trigger:["click"],placement:"bottomLeft",arrow:!0,children:(0,l.Y)(n.B,{componentId:"codegen_mlflow_app_src_shared_building_blocks_pageheader.tsx_54",icon:(0,l.Y)(r.ssM,{}),"data-test-id":"overflow-menu-trigger","aria-label":"Open header dropdown menu"})}):null}var c={name:"1gz4j9a",styles:"margin-left:0"},h={name:"ozd7xs",styles:"flex-shrink:0"};function u(e){const{title:t,breadcrumbs:s=[],titleAddOns:d=[],preview:u,children:g,spacerSize:m}=e,{theme:p}=(0,n.a)();(0,i.A)();return(0,l.FD)(l.FK,{children:[(0,l.Y)(r.Y9Y,{breadcrumbs:s.length>0&&(0,l.Y)(r.QpV,{includeTrailingCaret:!0,children:s.map(((e,t)=>(0,l.Y)(r.QpV.Item,{children:e},t)))}),buttons:g,title:t,titleAddOns:(0,l.FD)(l.FK,{children:[u&&(0,l.Y)(o.W,{css:c}),d]})}),(0,l.Y)(a.S,{css:h,size:m})]})}},98374:function(e,t,s){s.d(t,{W:function(){return l}});var r=s(64819),n=(s(76998),s(34139)),a=s(3281),i=s(8704),o=s(51391);const l=e=>{let{className:t}=e;const{theme:s}=(0,a.a)();return(0,o.Y)(i.vwO,{className:t,css:(0,r.AH)({marginLeft:s.spacing.xs},""),color:"turquoise",children:(0,o.Y)(n.A,{id:"8qJt7/",defaultMessage:"Experimental"})})}}}]);
//# sourceMappingURL=224.1d1f7a0d.chunk.js.map